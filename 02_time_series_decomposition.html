<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Rami Krispin">
<meta name="dcterms.date" content="2025-07-03">

<title>Time Series Decomposition</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="02_time_series_decomposition_files/libs/clipboard/clipboard.min.js"></script>
<script src="02_time_series_decomposition_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="02_time_series_decomposition_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="02_time_series_decomposition_files/libs/quarto-html/popper.min.js"></script>
<script src="02_time_series_decomposition_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="02_time_series_decomposition_files/libs/quarto-html/anchor.min.js"></script>
<link href="02_time_series_decomposition_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="02_time_series_decomposition_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="02_time_series_decomposition_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="02_time_series_decomposition_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="02_time_series_decomposition_files/libs/bootstrap/bootstrap-210a94f61e4454af6f1cd9d5f8fbba0b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="02_time_series_decomposition_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="02_time_series_decomposition_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="02_time_series_decomposition_files/libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="02_time_series_decomposition_files/libs/typedarray-0.1/typedarray.min.js"></script>
<script src="02_time_series_decomposition_files/libs/jquery-3.5.1/jquery.min.js"></script>
<link href="02_time_series_decomposition_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="02_time_series_decomposition_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="02_time_series_decomposition_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="02_time_series_decomposition_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#required-libraries" id="toc-required-libraries" class="nav-link active" data-scroll-target="#required-libraries">Required Libraries</a></li>
  <li><a href="#load-data" id="toc-load-data" class="nav-link" data-scroll-target="#load-data">Load Data</a></li>
  <li><a href="#classical-decomposition" id="toc-classical-decomposition" class="nav-link" data-scroll-target="#classical-decomposition">Classical Decomposition</a></li>
  <li><a href="#stl-decomposition" id="toc-stl-decomposition" class="nav-link" data-scroll-target="#stl-decomposition">STL Decomposition</a></li>
  <li><a href="#the-irregular-component-1" id="toc-the-irregular-component-1" class="nav-link" data-scroll-target="#the-irregular-component-1">The Irregular Component</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Time Series Decomposition</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Rami Krispin </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 3, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>This section focuses on time series decomposition. It is a technique used to break down a time series into its constituent components:</p>
<ul>
<li><strong>Trend -</strong> The long-term pattern of the data</li>
<li><strong>Seasonal -</strong> The repeating patterns in the data, such as weekly or monthly cycles</li>
<li><strong>Irregular -</strong> Random fluctuations that do not follow any clear pattern</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
The irregular component
</div>
</div>
<div class="callout-body-container callout-body">
<p>On ideal time series, the trend and seasonal components explain the total variation of the series. Therefore, the irregular component should be white noise - hench a time series with no correlation or any patterns. The reality is that often there are other patterns in the series that cannot be explained by the trend and seasonal components alone. In this case, the irregular component can contain valuable information about the series.</p>
</div>
</div>
<p>There are mainly two common techniques for time series decomposition:</p>
<ul>
<li>Classical decomposition</li>
<li>STL decomposition</li>
</ul>
<p>We will use the</p>
<section id="required-libraries" class="level2">
<h2 class="anchored" data-anchor-id="required-libraries">Required Libraries</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(feasts)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fabletools)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tsibble)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="load-data" class="level2">
<h2 class="anchored" data-anchor-id="load-data">Load Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="at">file =</span> <span class="st">"./data/ts.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s look at our data. For this section we will use the US demand for natural gas (<code>ts2</code>):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ts2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tsibble: 6 x 4 [1M]
     index date             y series_id
     &lt;mth&gt; &lt;date&gt;       &lt;int&gt; &lt;chr&gt;    
1 2001 Jan 2001-01-01 2505011 NUS      
2 2001 Feb 2001-02-01 2156873 NUS      
3 2001 Mar 2001-03-01 2086568 NUS      
4 2001 Apr 2001-04-01 1663832 NUS      
5 2001 May 2001-05-01 1385163 NUS      
6 2001 Jun 2001-06-01 1313119 NUS      </code></pre>
</div>
</div>
<p>Let’s plot the series with Plotly:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>ts2 <span class="sc">|&gt;</span> <span class="fu">plot_ly</span>() <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">add_lines</span>(<span class="at">x =</span> <span class="sc">~</span> date, </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="sc">~</span> y) <span class="sc">|&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Natural Gas Delivered to Consumers in the U.S."</span>,</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Source: EIA Webstie"</span>),</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"MMCF"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-20170c0274763bebf580" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-20170c0274763bebf580">{"x":{"visdat":{"4edf4e58b2ea":["function () ","plotlyVisDat"]},"cur_data":"4edf4e58b2ea","attrs":{"4edf4e58b2ea":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Natural Gas Delivered to Consumers in the U.S.","xaxis":{"domain":[0,1],"automargin":true,"title":"Source: EIA Webstie"},"yaxis":{"domain":[0,1],"automargin":true,"title":"MMCF"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01"],"y":[2505011,2156873,2086568,1663832,1385163,1313119,1459919,1528483,1360871,1507428,1561970,1965873,2319273,2090786,2096915,1734549,1470504,1453967,1602849,1582079,1408599,1506936,1766395,2214167,2532736,2346489,2041522,1603853,1379497,1240196,1464704,1512522,1299128,1417234,1616154,2108690,2512844,2358946,1952607,1609746,1441557,1356266,1452339,1445892,1357712,1426546,1647979,2176020,2396713,2094357,2048169,1585188,1386917,1400018,1547608,1555887,1301829,1302758,1529693,2169754,2010926,1999359,1972165,1543302,1390353,1415134,1615241,1607830,1328565,1501925,1622364,1965718,2306943,2403778,1967388,1662412,1414428,1413254,1513157,1741755,1446674,1479110,1681149,2225994,2554281,2335770,2109623,1672724,1430242,1459015,1556011,1531863,1329726,1488645,1714971,2226478,2538368,2162215,1996245,1585512,1353150,1378772,1503321,1578354,1427135,1510867,1619852,2310875,2624217,2312746,1974222,1540128,1465089,1500962,1668244,1718550,1485061,1506234,1809151,2522442,2699039,2285465,2056105,1665278,1509295,1503845,1728010,1727907,1500242,1579772,1860159,2351937,2557465,2319221,1949890,1784460,1703507,1702557,1891318,1832775,1640347,1727393,1989660,2312832,2661816,2371983,2316191,1783603,1572373,1567216,1738157,1739436,1588718,1680814,2118508,2700111,2997145,2556038,2365293,1786764,1636202,1576508,1701744,1751644,1635485,1730740,2167984,2475535,2903574,2730693,2392542,1826933,1678755,1723906,1882675,1867936,1723960,1804380,2064029,2389902,2880714,2459545,2164467,1903501,1785885,1825125,2001036,2023229,1774412,1748897,1979957,2665391,2708217,2161185,2324198,1753578,1710548,1731387,1950510,1904112,1737701,1838965,2155805,2858509,3107734,2507085,2576005,2148089,1855856,1867447,2139037,2100482,1949898,2069201,2488282,2759042,3161732,2783640,2680848,1994279,1912779,1902995,2162450,2197474,1982049,2072599,2535754,2904407,3052335,2809540,2475096,2035122,1861283,1917555,2234989,2173203,1938029,2093493,2215375,2924939,3056278,2850394,2387023,2036708,1882870,2008918,2171329,2188822,1906377,2015381,2427617,2731775,3287895,2793006,2516726,2114010,1995895,2074067,2329216,2306262,2047010,2108275,2502928,3084994,3030057,2702018,2743975,2176612,2065968,2118628,2404122,2409018,2128961,2186224,2558279,2885437,3422552,2703367,2532473,2151696,2085209,2182539,2478715,2450612,2170036,2175662,2450046,3061848,3610940,2966856,2476782,2131612],"type":"scatter","mode":"lines","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="classical-decomposition" class="level2">
<h2 class="anchored" data-anchor-id="classical-decomposition">Classical Decomposition</h2>
<p>The classical decomposition method is simple and widely used in time series analysis to decompose a time series into its three components - trend, seasonal and irregular components. The <a href="https://stat.ethz.ch/R-manual/R-devel/library/stats/html/decompose.html"><code>decompose</code></a> function from the <strong>stats</strong> library provides an implementation of this method. For this demonstration, we will use the <a href="https://feasts.tidyverts.org/reference/classical_decomposition.html"><code>classical_decomposition</code></a> function from the <strong>feasts</strong> library.</p>
<p>The calculation of the classical decomposition is straightforward and includes the following steps:</p>
<ul>
<li><p>Step 1 - Estimate the trend component: Use smoothing method to remove the seasonal component from the series. This typically involve a moving average or a weighted moving average method. The rule of thumb is to use a centered moving average, where the number of periods to be averaged is equal to the series frequency. For example, for a monthly time series we can use a centered 12-month moving average: <span class="math display">\[
\hat{X_t} = \frac{Y_{t-6} + Y_{t-5} + ... + Y_{t+5}}{12}
\]</span></p>
<p>Where <span class="math inline">\(X_t\)</span> represents the smoothed value of the time series at time t. The smoothing removes (or reduce significantly) the seasonal and irregular component from the time series and leaves the trend estimate.</p></li>
<li><p>Step 2 - Detrend the series: Subtract the estimated trend component from the original time series to obtain a detrended series, which represents the seasonal and irregular components for additive model: <span class="math display">\[
\hat{D_t} = Y_t - \hat{X_t}
\]</span> And in the case of multiplicative model: <span class="math display">\[
\hat{D_t} = \frac{Y_t}{\hat{X_t}}
\]</span> Where <span class="math inline">\(D_t\)</span> is the detrended value of the time series at time t.</p></li>
<li><p>Step 3 - Estimate the seasonal component: Group the detrend series by the frequency period and compute the mean for each group. For example, if the data has a monthly frequency, then you will group all the values for the month of January together to get the average value for that month. This represents by the following notation:</p>
<p><span class="math display">\[
  \hat{S_m} = \frac{1}{n} \sum_{i=0}^{n} \hat{D}_{m+i \times k}
\]</span> Where <span class="math inline">\(S_m\)</span> is the seasonal component of the time series at month m, and <span class="math inline">\(k\)</span> represents the number of periodic cycles (in this case years).</p></li>
<li><p>Step 4 - Estimate the irregular component: Subtract from the series the trend and seasonal estimates to extract the irregular estimation for additive model: <span class="math display">\[
  \hat{I_t} = Y_t - \hat{T_t} - \hat{S_t}
\]</span> And in the case of multiplicative model: <span class="math display">\[
\hat{I_t} = \frac{Y_t}{\hat{D_t} \times \hat{S_t}}
\]</span></p></li>
</ul>
<p>Let’s use the <code>classical_decomposition</code> function to decompose the series:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>ts_classic_d <span class="ot">&lt;-</span> ts2 <span class="sc">|&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">classical_decomposition</span>(y, <span class="at">type =</span> <span class="st">"additive"</span>),</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">components</span>()</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ts_classic_d, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A dable: 10 x 7 [1M]
# Key:     .model [1]
# :        y = trend + seasonal + random
   .model                    index      y   trend seasonal  random season_adjust
   &lt;chr&gt;                     &lt;mth&gt;  &lt;int&gt;   &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;         &lt;dbl&gt;
 1 "classical_decomposit… 2001 Jan 2.51e6 NA       751772.     NA       1753239.
 2 "classical_decomposit… 2001 Feb 2.16e6 NA       435854.     NA       1721019.
 3 "classical_decomposit… 2001 Mar 2.09e6 NA       237156.     NA       1849412.
 4 "classical_decomposit… 2001 Apr 1.66e6 NA      -197766.     NA       1861598.
 5 "classical_decomposit… 2001 May 1.39e6 NA      -361885.     NA       1747048.
 6 "classical_decomposit… 2001 Jun 1.31e6 NA      -351039.     NA       1664158.
 7 "classical_decomposit… 2001 Jul 1.46e6  1.70e6 -166527. -73741.      1626446.
 8 "classical_decomposit… 2001 Aug 1.53e6  1.69e6 -158210.  -3001.      1686693.
 9 "classical_decomposit… 2001 Sep 1.36e6  1.69e6 -368944.  42443.      1729815.
10 "classical_decomposit… 2001 Oct 1.51e6  1.69e6 -286644. 103323.      1794072.</code></pre>
</div>
</div>
<p>As you can notice, the trend component is missing its first 6 observations as the function is using a centered moving average method which requires the previous and future 6 observations for a monthly time series (i.e., frequency of 12). Let’s plot the output:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> ts_classic_d <span class="sc">|&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(index))</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>color <span class="ot">&lt;-</span> <span class="st">"#0072B5"</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>dec_attr <span class="ot">&lt;-</span> <span class="fu">attributes</span>(ts_classic_d)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>series <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>date, <span class="at">y =</span> <span class="sc">~</span>y, <span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"lines"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> color), <span class="at">name =</span> <span class="st">"Actual"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Actial"</span>))</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>trend <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>date, <span class="at">y =</span> <span class="sc">~</span>trend, <span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"lines"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> color), <span class="at">name =</span> <span class="st">"Trend"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Trend"</span>))</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>seasonal <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>date, <span class="at">y =</span> <span class="sc">~</span>seasonal, <span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"lines"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> color), <span class="at">name =</span> <span class="st">"Seasonal"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Seasonal"</span>))</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>seasonal_adj <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>date, <span class="at">y =</span> <span class="sc">~</span>season_adjust, <span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"lines"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> color), <span class="at">name =</span> <span class="st">"Seasonal Adjusted"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Seasonal Adjusted"</span>))</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>irregular <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>date, <span class="at">y =</span> <span class="sc">~</span>random, </span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"lines"</span>, </span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> color), <span class="at">name =</span> <span class="st">"Irregular"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Irregular"</span>))</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">subplot</span>(series, trend, seasonal, seasonal_adj, irregular, </span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a><span class="at">nrows =</span> <span class="dv">5</span>, <span class="at">titleY =</span> <span class="cn">TRUE</span>, <span class="at">shareX =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Decomposition Method: "</span>, dec_attr<span class="sc">$</span>method, <span class="at">sep =</span> <span class="st">""</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-fd7affbff50277e9e466" style="width:100%;height:928px;"></div>
<script type="application/json" data-for="htmlwidget-fd7affbff50277e9e466">{"x":{"data":[{"x":["2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01"],"y":[2505011,2156873,2086568,1663832,1385163,1313119,1459919,1528483,1360871,1507428,1561970,1965873,2319273,2090786,2096915,1734549,1470504,1453967,1602849,1582079,1408599,1506936,1766395,2214167,2532736,2346489,2041522,1603853,1379497,1240196,1464704,1512522,1299128,1417234,1616154,2108690,2512844,2358946,1952607,1609746,1441557,1356266,1452339,1445892,1357712,1426546,1647979,2176020,2396713,2094357,2048169,1585188,1386917,1400018,1547608,1555887,1301829,1302758,1529693,2169754,2010926,1999359,1972165,1543302,1390353,1415134,1615241,1607830,1328565,1501925,1622364,1965718,2306943,2403778,1967388,1662412,1414428,1413254,1513157,1741755,1446674,1479110,1681149,2225994,2554281,2335770,2109623,1672724,1430242,1459015,1556011,1531863,1329726,1488645,1714971,2226478,2538368,2162215,1996245,1585512,1353150,1378772,1503321,1578354,1427135,1510867,1619852,2310875,2624217,2312746,1974222,1540128,1465089,1500962,1668244,1718550,1485061,1506234,1809151,2522442,2699039,2285465,2056105,1665278,1509295,1503845,1728010,1727907,1500242,1579772,1860159,2351937,2557465,2319221,1949890,1784460,1703507,1702557,1891318,1832775,1640347,1727393,1989660,2312832,2661816,2371983,2316191,1783603,1572373,1567216,1738157,1739436,1588718,1680814,2118508,2700111,2997145,2556038,2365293,1786764,1636202,1576508,1701744,1751644,1635485,1730740,2167984,2475535,2903574,2730693,2392542,1826933,1678755,1723906,1882675,1867936,1723960,1804380,2064029,2389902,2880714,2459545,2164467,1903501,1785885,1825125,2001036,2023229,1774412,1748897,1979957,2665391,2708217,2161185,2324198,1753578,1710548,1731387,1950510,1904112,1737701,1838965,2155805,2858509,3107734,2507085,2576005,2148089,1855856,1867447,2139037,2100482,1949898,2069201,2488282,2759042,3161732,2783640,2680848,1994279,1912779,1902995,2162450,2197474,1982049,2072599,2535754,2904407,3052335,2809540,2475096,2035122,1861283,1917555,2234989,2173203,1938029,2093493,2215375,2924939,3056278,2850394,2387023,2036708,1882870,2008918,2171329,2188822,1906377,2015381,2427617,2731775,3287895,2793006,2516726,2114010,1995895,2074067,2329216,2306262,2047010,2108275,2502928,3084994,3030057,2702018,2743975,2176612,2065968,2118628,2404122,2409018,2128961,2186224,2558279,2885437,3422552,2703367,2532473,2151696,2085209,2182539,2478715,2450612,2170036,2175662,2450046,3061848,3610940,2966856,2476782,2131612],"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Actual","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01"],"y":[1700186.7500000002,1689694.0416666667,1687371.5416666665,1690749.208333333,1697251.625,1706676.1666666667,1718500.2499999998,1726688.8333333335,1730910.6666666665,1732878.8333333335,1741376.0416666665,1760239.3333333333,1779479.2083333335,1799027.7916666665,1807374.0416666667,1799620.3333333335,1790382.7083333335,1777683.625,1763020.4583333335,1754366.2083333333,1746906.7083333333,1738607.8333333333,1728610.2083333333,1717955.2916666663,1712731.5833333333,1712421.7916666665,1709236.0416666667,1705776.7916666667,1708608.1666666667,1716030.25,1720351.2916666665,1717059.8333333335,1716724.5833333333,1719553.5833333335,1721267.625,1725399.083333333,1723365.708333333,1707502.375,1700459.5833333333,1703418.0833333335,1700118.1666666667,1699664.5,1705457.0416666665,1714009.7083333333,1716264.3749999998,1708778.083333333,1698691.6666666665,1693501.9999999998,1677166.4583333335,1657133.75,1650008.6666666665,1645096.5833333333,1643494.5,1644267.4999999998,1647715.3750000002,1652697.7083333335,1655976,1665388.625,1677548.5416666665,1672908.3333333333,1676740.8749999998,1705925.708333333,1722577.4583333333,1727341.3333333333,1733307.375,1734232.1666666667,1729900.3333333333,1731227.0416666667,1741728.4583333333,1745699.0416666665,1747197.7916666665,1760492,1781642.583333333,1789114.6666666667,1792207.4583333333,1798563.5833333335,1799652.1666666667,1802217.7916666667,1805910.0833333333,1798950.1666666667,1785331.8333333333,1780856.2916666665,1782662.8333333335,1784092.2500000002,1783449.3750000002,1775554.875,1763599.333333333,1755241.4166666663,1748395.4166666665,1741839.7916666665,1736300.9166666667,1736042.625,1742038.4583333333,1747023.0833333333,1743985.708333333,1743538.9583333333,1750632.5416666665,1760481.7083333333,1765836.2083333335,1763027.5833333333,1765800.7083333335,1775556.0833333333,1787519.125,1800232.4166666667,1808487.5,1810708.0416666667,1818402.4583333333,1835105.208333333,1847038.0833333333,1849018.9583333335,1851294.0416666665,1859920.4166666665,1866976.9166666665,1868938.9583333328,1871549.3333333333,1874429.4583333333,1875451.875,1879148.5,1884337.9166666667,1879358.8750000002,1866355.5833333333,1861863.1666666663,1858844.0416666667,1859384.3333333333,1872442.4166666667,1888814.25,1903898.4166666667,1915072.4166666667,1925279.625,1937268.208333333,1948814.9583333333,1952581.4583333333,1955300.0416666667,1961846.4166666665,1979307.375,1994534.2083333333,1989034.583333333,1977931.4583333333,1965910.5416666667,1955639.7083333333,1949599.375,1945507.375,1948935.25,1970440.5416666665,2000549.2083333333,2022190.2083333333,2031905.0833333333,2034082.7083333333,2036873.9583333333,2039920.6666666667,2038790.6249999998,2037782.0833333333,2040239.3749999998,2044268.2499999998,2048409.9999999998,2041114.1666666667,2027858.041666667,2031236.5416666667,2039649.2083333335,2042458.2916666667,2045905.0416666665,2053819.6666666663,2067500.0416666663,2079884.3333333333,2088416.2916666663,2095171.0833333333,2093907.9583333335,2086008.4583333335,2081487.9166666667,2069237.5833333333,2048436.6249999995,2042123.833333333,2049777.9166666663,2058459.1249999998,2067608.2916666667,2079010.5416666667,2087583.25,2087373.625,2081558.8333333333,2089534.5416666665,2093825.8749999998,2074206.8333333333,2068430.625,2068839.291666667,2059453.4583333335,2052408.666666667,2046397.666666667,2039329.2083333335,2032836.375,2035059.5833333333,2046139.4166666665,2061513,2086206.125,2117265.1666666665,2142169.625,2169099.5416666665,2191592,2203315.6666666665,2216840.125,2232877.4999999995,2249901.125,2268335.833333333,2291782.2083333335,2301490.958333333,2299596.416666666,2313369.4583333335,2329261.0416666665,2327220.75,2323183.791666667,2327036.75,2329493.458333333,2334510.3333333335,2339891.2916666665,2341372.5000000005,2343492.083333333,2351526.9583333335,2353025.6250000005,2349546.5833333335,2342052.75,2335181.5416666665,2334737.6666666665,2333198.6666666665,2336827.7916666665,2338838.958333333,2335993.5,2335029.9166666665,2322551.3749999995,2310057.75,2311077.5416666665,2312944.083333333,2310976.625,2307373,2308338.5416666665,2313044.791666667,2314199.083333333,2312197.375,2311529.333333333,2306955.8333333335,2312544.583333333,2313339.5,2314941.708333333,2322201.2499999995,2325214.3749999995,2333839.5833333335,2341769.875,2349193.7916666665,2358486.9583333335,2369958.9166666665,2380711.958333333,2390442.25,2397450.791666667,2415306.2083333335,2419280.4166666665,2404746,2410423.541666667,2422500.6666666665,2428028.791666666,2432805.2083333335,2437782.9999999995,2445185.583333333,2452881.7083333335,2459544.2083333335,2465098.3749999995,2459089.791666666,2467128.8749999995,2483539.041666667,2474782.6666666665,2464931.9166666665,2464695.4583333335,2468160.125,2473931.125,2478772.25,2482216.791666667,2483488.1666666665,2478538.3750000005,2481379.125,2496579.0833333335,2515407.291666666,2524065.5416666665,2520908.2499999995],"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Trend","type":"scatter","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":["2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01"],"y":[751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724,-361884.95330112719,-351039.46598228661,-166526.79093699678,-158210.27704810788,-368944.03572866344,-286643.85864533007,-11044.225040257661,477278.06119162642,751771.81481481483,435854.42894524959,237155.50503220613,-197766.20330112724],"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Seasonal","type":"scatter","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y3","frame":null},{"x":["2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01"],"y":[1753239.1851851852,1721018.5710547504,1849412.4949677938,1861598.2033011273,1747047.9533011271,1664158.4659822867,1626445.7909369967,1686693.2770481079,1729815.0357286634,1794071.8586453302,1573014.2250402577,1488594.9388083736,1567501.1851851852,1654931.5710547504,1859759.4949677938,1932315.2033011273,1832388.9533011271,1805006.4659822867,1769375.7909369967,1740289.2770481079,1777543.0357286634,1793579.8586453302,1777439.2250402577,1736888.9388083736,1780964.1851851852,1910634.5710547504,1804366.4949677938,1801619.2033011273,1741381.9533011271,1591235.4659822867,1631230.7909369967,1670732.2770481079,1668072.0357286634,1703877.8586453302,1627198.2250402577,1631411.9388083736,1761072.1851851852,1923091.5710547504,1715451.4949677938,1807512.2033011273,1803441.9533011271,1707305.4659822867,1618865.7909369967,1604102.2770481079,1726656.0357286634,1713189.8586453302,1659023.2250402577,1698741.9388083736,1644941.1851851852,1658502.5710547504,1811013.4949677938,1782954.2033011273,1748801.9533011271,1751057.4659822867,1714134.7909369967,1714097.2770481079,1670773.0357286634,1589401.8586453302,1540737.2250402577,1692475.9388083736,1259154.1851851852,1563504.5710547504,1735009.4949677938,1741068.2033011273,1752237.9533011271,1766173.4659822867,1781767.7909369967,1766040.2770481079,1697509.0357286634,1788568.8586453302,1633408.2250402577,1488439.9388083736,1555171.1851851852,1967923.5710547504,1730232.4949677938,1860178.2033011273,1776312.9533011271,1764293.4659822867,1679683.7909369967,1899965.2770481079,1815618.0357286634,1765753.8586453302,1692193.2250402577,1748715.9388083736,1802509.1851851852,1899915.5710547504,1872467.4949677938,1870490.2033011273,1792126.9533011271,1810054.4659822867,1722537.7909369967,1690073.2770481079,1698670.0357286634,1775288.8586453302,1726015.2250402577,1749199.9388083736,1786596.1851851852,1726360.5710547504,1759089.4949677938,1783278.2033011273,1715034.9533011271,1729811.4659822867,1669847.7909369967,1736564.2770481079,1796079.0357286634,1797510.8586453302,1630896.2250402577,1833596.9388083736,1872445.1851851852,1876891.5710547504,1737066.4949677938,1737894.2033011273,1826973.9533011271,1852001.4659822867,1834770.7909369967,1876760.2770481079,1854005.0357286634,1792877.8586453302,1820195.2250402577,2045163.9388083736,1947267.1851851852,1849610.5710547504,1818949.4949677938,1863044.2033011273,1871179.9533011271,1854884.4659822867,1894536.7909369967,1886117.2770481079,1869186.0357286634,1866415.8586453302,1871203.2250402577,1874658.9388083736,1805693.1851851852,1883366.5710547504,1712734.4949677938,1982226.2033011273,2065391.9533011271,2053596.4659822867,2057844.7909369967,1990985.2770481079,2009291.0357286634,2014036.8586453302,2000704.2250402577,1835553.9388083736,1910044.1851851852,1936128.5710547504,2079035.4949677938,1981369.2033011273,1934257.9533011271,1918255.4659822867,1904683.7909369967,1897646.2770481079,1957662.0357286634,1967457.8586453302,2129552.2250402574,2222832.9388083736,2245373.1851851852,2120183.5710547506,2128137.494967794,1984530.2033011273,1998086.9533011271,1927547.4659822867,1868270.7909369967,1909854.2770481079,2004429.0357286634,2017383.8586453302,2179028.2250402574,1998256.9388083736,2151802.1851851852,2294838.5710547506,2155386.494967794,2024699.2033011273,2040639.9533011271,2074945.4659822867,2049201.7909369967,2026146.2770481079,2092904.0357286634,2091023.8586453302,2075073.2250402577,1912623.9388083736,2128942.1851851852,2023690.5710547504,1927311.4949677938,2101267.2033011271,2147769.9533011271,2176164.4659822867,2167562.7909369967,2181439.2770481077,2143356.0357286632,2035540.8586453302,1991001.2250402577,2188112.9388083736,1956445.1851851852,1725330.5710547504,2087042.4949677938,1951344.2033011273,2072432.9533011271,2082426.4659822867,2117036.7909369967,2062322.2770481079,2106645.0357286632,2125608.8586453302,2166849.2250402574,2381230.9388083736,2355962.1851851852,2071230.5710547504,2338849.494967794,2345855.2033011271,2217740.9533011271,2218486.4659822867,2305563.7909369967,2258692.2770481077,2318842.0357286632,2355844.8586453302,2499326.2250402574,2281763.9388083736,2409960.1851851852,2347785.5710547506,2443692.494967794,2192045.2033011271,2274663.9533011271,2254034.4659822867,2328976.7909369967,2355684.2770481077,2350993.0357286632,2359242.8586453302,2546798.2250402574,2427128.9388083736,2300563.1851851852,2373685.5710547506,2237940.494967794,2232888.2033011271,2223167.9533011271,2268594.4659822867,2401515.7909369967,2331413.2770481077,2306973.0357286632,2380136.8586453302,2226419.2250402574,2447660.9388083736,2304506.1851851852,2414539.5710547506,2149867.494967794,2234474.2033011271,2244754.9533011271,2359957.4659822867,2337855.7909369967,2347032.2770481077,2275321.0357286632,2302024.8586453302,2438661.2250402574,2254496.9388083736,2536123.1851851852,2357151.5710547506,2279570.494967794,2311776.2033011271,2357779.9533011271,2425106.4659822867,2495742.7909369967,2464472.2770481077,2415954.0357286632,2394918.8586453302,2513972.2250402574,2607715.9388083736,2278285.1851851852,2266163.5710547506,2506819.494967794,2374378.2033011271,2427852.9533011271,2469667.4659822867,2570648.7909369967,2567228.2770481077,2497905.0357286632,2472867.8586453302,2569323.2250402574,2408158.9388083736,2670780.1851851852,2267512.5710547506,2295317.494967794,2349462.2033011271,2447093.9533011271,2533578.4659822867,2645241.7909369967,2608822.2770481077,2538980.0357286632,2462305.8586453302,2461090.2250402574,2584569.9388083736,2859168.1851851852,2531001.5710547506,2239626.494967794,2329378.2033011271],"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Seasonal Adjusted","type":"scatter","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y4","frame":null},{"x":["2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01"],"y":[-73740.959063003538,-3000.7646185588092,42443.494061996927,103322.65031199716,-124237.39995974232,-218081.2278582931,-150999.0648148146,-71757.262278583134,128848.8283011273,199436.36996779381,91012.911634460557,44767.132648953469,-10103.417396336794,-58738.514618558576,-29831.005938003305,-6040.4746880033053,-12943.483293075813,-40794.686191626359,17943.726851851679,156268.3627214171,57459.786634460557,63011.369967794046,12771.744967793813,-126719.82568437955,-81500.792396336561,-41689.514618558576,-41164.005938003305,-1898.9330213365611,-81409.941626409069,-84618.311191626359,40720.893518518656,206031.73772141687,-1273.0883655394427,87958.619967793813,82174.328301127069,-18093.617351046298,-104499.91739633633,-103400.09795189206,26196.452395330183,9771.7753119966947,-41094.941626409069,-922.56119162635878,-60515.856481481344,-55507.137278582901,94749.119967794046,74176.119967794279,50110.286634460557,57555.465982286958,36968.332603663206,56963.527048107935,20764.369061996927,-55694.724688003073,-102757.27495974232,48208.438808373874,-388561.18981481506,-89193.137278583134,79033.494967793813,75679.578301127302,74689.411634460557,93265.132648953469,105026.91593699693,60114.568714774912,-25068.422604669817,61227.525311996927,-99899.149959742324,-245792.2278582931,-174729.14814814809,236696.52938808361,-11495.963365539443,114479.16163446079,29115.161634460557,3801.4659822867252,-101958.79239633633,110850.61038144119,23410.577395330183,-32809.724688003305,-107458.94162640907,-53501.852858293103,-3400.8981481480878,100965.40438808361,87135.661634460557,89633.91163446079,9464.1199677935801,25962.215982286492,-60911.584063003538,-85481.597951892065,-64929.297604669584,20047.441978663905,-22380.191626408836,7360.1471417071298,50295.268518518424,-9682.053945249645,17051.036634460557,36255.119967794046,-28950.755032205954,-13727.492351046531,-80784.750729669817,-23917.431285225321,30242.82739532995,34483.275311996927,-134904.48329307581,58040.855475040385,84926.060185185168,76659.154388083611,-71421.005032206187,-72813.838365539443,8571.494967793813,16896.257648953702,-12267.292396336561,27741.318714774447,2710.9940619969275,-67042.558021336328,-46781.691626408836,176224.98047504085,75717.851851851912,-24818.887278582901,-56502.380032206187,-16104.296698872698,-13157.963365539676,-24474.409017713508,28181.207603663439,24254.110381441657,10341.994061996695,7031.5253119969275,-1239.1916264090687,-14155.311191626359,-98205.231481481576,-31705.845611916389,-212545.13003220619,44957.994967794279,116576.99496779381,101015.00764895347,102544.74927032995,29138.860381441424,29983.660728663439,19502.650311996927,11669.641706924653,-142377.51952495961,-55866.356481481576,-19511.137278582901,129436.11996779381,35861.828301127302,-14677.296698872931,-52185.075684379786,-95865.417396336561,-124543.93128522532,-74243.047604669817,-66624.849688003073,92678.266706924187,182912.2721417069,206582.5601851854,82401.487721417332,87898.119967794279,-59738.046698872466,-50323.046698872698,-113566.70068438002,-159587.25072967028,-121382.26461855881,-35220.17260467005,-25074.433021336561,133123.18337359093,-55562.727858292637,84302.143518518889,214954.23772141733,66970.203301127767,-70471.880032205954,-53268.00503220642,-11062.992351046763,-32286.12572967005,-43091.306285225321,44467.410728663905,48900.02531199716,25295.308373591397,-145835.18619162613,61333.893518518424,-55319.970611916389,-160271.75503220619,13893.578301127069,66211.119967793813,86629.924315620214,73736.915936996927,107232.44371477445,74925.410728663206,-33298.433021336794,-68452.233293075813,135704.27214170666,-89952.481481481809,-313998.63727858313,54206.119967793813,-83715.380032205954,26293.536634460557,20913.465982286725,30830.665936996695,-54942.889618558576,-35524.589271336794,-43490.683021336328,-24742.774959742557,177915.27214170713,139122.06018518517,-161646.92894524918,88948.369967794046,77519.369967794046,-74041.25503220642,-83004.492351046298,5967.3742703306489,-54677.181285225786,-10419.005938003305,28624.108645330183,176142.43337359047,-45272.811191626359,80466.726851852145,13275.237721417099,103801.20330112753,-149327.2966988734,-68828.130032205954,-97492.492351046763,-24048.834063003771,6137.6937147742137,8940.2857286632061,24061.316978663672,212060.55837359093,93930.27214170713,-36264.606481481344,34846.612721417565,-98053.005032205954,-102141.71336553944,-99383.421698872466,-41463.284017713275,90438.249270330183,18469.193714774679,-4003.5892713367939,72763.858645330183,-81919.316626409069,134616.14714170666,-9692.898148147855,102342.19605475059,-161661.83836553898,-72481.63003220642,-67789.630032205954,46617.965982286725,22914.082603663672,24831.027048108168,-49893.339271336328,-31814.724688003305,96891.350040257443,-94696.85285829287,177636.22685185168,-12807.345611915924,-101141.46336553898,-78666.046698872931,-39670.838365539908,9800.2576489532366,76462.374270330183,59726.277048107702,5530.494061996229,-27581.808021336328,85943.433373591397,174910.73047504015,-159497.81481481437,-179022.01227858244,53937.786634460557,-85166.00503220642,-37245.421698872466,10577.674315620679,103519.91593699716,83689.235381440725,23122.369061996695,7935.9419786636718,104627.76670692395,-60001.186191626359,196849.06018518517,-211259.67894524941,-186899.29669887293,-134025.96336553944,-31444.421698873397,52199.340982286725,148662.70760366321,93414.985381441657,14914.494061996695,-58602.391354669351],"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Irregular","type":"scatter","marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y5","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"title":"Decomposition Method: Classical","anchor":"y5"},"yaxis5":{"domain":[0,0.17999999999999997],"automargin":true,"title":"Irregular","anchor":"x"},"yaxis4":{"domain":[0.21999999999999995,0.37999999999999989],"automargin":true,"title":"Seasonal Adjusted","anchor":"x"},"yaxis3":{"domain":[0.41999999999999993,0.57999999999999996],"automargin":true,"title":"Seasonal","anchor":"x"},"yaxis2":{"domain":[0.62,0.78000000000000003],"automargin":true,"title":"Trend","anchor":"x"},"yaxis":{"domain":[0.82000000000000006,1],"automargin":true,"title":"Actial","anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":false},"attrs":{"4edf51c94bff":{"x":{},"y":{},"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Actual","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"4edf64f8b0ca":{"x":{},"y":{},"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Trend","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"4edf77ddddb5":{"x":{},"y":{},"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Seasonal","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"4edf2f301b9":{"x":{},"y":{},"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Seasonal Adjusted","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"4edf6289c23d":{"x":{},"y":{},"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Irregular","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>The downside of the classical method that it cannot handle well fluctuations in the seasonal component over time as it average across all periods. The next method - STL decomposition has more robust approach for handling changes in the seasonal component over time.</p>
</section>
<section id="stl-decomposition" class="level2">
<h2 class="anchored" data-anchor-id="stl-decomposition">STL Decomposition</h2>
<p>The Seasonal and Trend decomposition using Loess (STL) method is an alternative and robust approach for decomposing a time series into its components. Unlike the classical method, the STL method uses a locally weighted regression to calculate the seasonal component. The advantages of this approach over the classical method are: - Can handle changes in the seasonal component over time - Can handle time series with multiple seasonality components - Provides the user with control over the trend smoothing and the seasonal window length - No loss of observations during the trend estimate process</p>
<p>Like the classical method, both the <strong>stats</strong> and <strong>feasts</strong> libraries provide an implementation of the STL method with the <a href="https://stat.ethz.ch/R-manual/R-devel/library/stats/html/stl.html">stl</a> and <a href="https://feasts.tidyverts.org/reference/STL.html">STL</a> functions, respectively. In the following example, we will use the <code>STL</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>ts_stl_d <span class="ot">&lt;-</span> ts2 <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">STL</span>(y <span class="sc">~</span> <span class="fu">trend</span>(<span class="at">window =</span> <span class="dv">11</span>) <span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">season</span>(<span class="at">window =</span> <span class="dv">7</span>),</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">robust =</span> <span class="cn">TRUE</span>),</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">components</span>()</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ts_stl_d, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A dable: 10 x 7 [1M]
# Key:     .model [1]
# :        y = trend + season_year + remainder
   .model                index      y  trend season_year remainder season_adjust
   &lt;chr&gt;                 &lt;mth&gt;  &lt;int&gt;  &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
 1 STL(y ~ trend(win… 2001 Jan 2.51e6 1.77e6     772173.   -37408.      1732838.
 2 STL(y ~ trend(win… 2001 Feb 2.16e6 1.76e6     362937.    34995.      1793936.
 3 STL(y ~ trend(win… 2001 Mar 2.09e6 1.75e6     316142.    22791.      1770426.
 4 STL(y ~ trend(win… 2001 Apr 1.66e6 1.74e6     -86486.    12262.      1750318.
 5 STL(y ~ trend(win… 2001 May 1.39e6 1.73e6    -321116.   -22197.      1706279.
 6 STL(y ~ trend(win… 2001 Jun 1.31e6 1.72e6    -361195.   -47107.      1674314.
 7 STL(y ~ trend(win… 2001 Jul 1.46e6 1.71e6    -219906.   -34540.      1679825.
 8 STL(y ~ trend(win… 2001 Aug 1.53e6 1.72e6    -192096.      443.      1720579.
 9 STL(y ~ trend(win… 2001 Sep 1.36e6 1.73e6    -373660.     8623.      1734531.
10 STL(y ~ trend(win… 2001 Oct 1.51e6 1.73e6    -263392.    40871.      1770820.</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> ts_stl_d <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(index))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>color <span class="ot">&lt;-</span> <span class="st">"#0072B5"</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>dec_attr <span class="ot">&lt;-</span> <span class="fu">attributes</span>(ts_stl_d)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>series <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>date, <span class="at">y =</span> <span class="sc">~</span>y, <span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"lines"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> color), <span class="at">name =</span> <span class="st">"Actual"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Actial"</span>))</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>trend <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>date, <span class="at">y =</span> <span class="sc">~</span>trend, <span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"lines"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> color), <span class="at">name =</span> <span class="st">"Trend"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Trend"</span>))</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>seasonal <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>date, <span class="at">y =</span> <span class="sc">~</span>season_year, <span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"lines"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> color), <span class="at">name =</span> <span class="st">"Seasonal"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Seasonal"</span>))</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>seasonal_adj <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>date, <span class="at">y =</span> <span class="sc">~</span>season_adjust, <span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"lines"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> color), <span class="at">name =</span> <span class="st">"Seasonal Adjusted"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Seasonal Adjusted"</span>))</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>irregular <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>date, <span class="at">y =</span> <span class="sc">~</span>remainder, </span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a><span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"lines"</span>, </span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a><span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> color), <span class="at">name =</span> <span class="st">"Irregular"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Irregular"</span>))</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">subplot</span>(series, trend, seasonal, seasonal_adj, irregular, </span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="at">nrows =</span> <span class="dv">5</span>, <span class="at">titleY =</span> <span class="cn">TRUE</span>, <span class="at">shareX =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Decomposition Method: "</span>, dec_attr<span class="sc">$</span>method, <span class="at">sep =</span> <span class="st">""</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-67a719579ee425d534a8" style="width:100%;height:928px;"></div>
<script type="application/json" data-for="htmlwidget-67a719579ee425d534a8">{"x":{"data":[{"x":["2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01"],"y":[2505011,2156873,2086568,1663832,1385163,1313119,1459919,1528483,1360871,1507428,1561970,1965873,2319273,2090786,2096915,1734549,1470504,1453967,1602849,1582079,1408599,1506936,1766395,2214167,2532736,2346489,2041522,1603853,1379497,1240196,1464704,1512522,1299128,1417234,1616154,2108690,2512844,2358946,1952607,1609746,1441557,1356266,1452339,1445892,1357712,1426546,1647979,2176020,2396713,2094357,2048169,1585188,1386917,1400018,1547608,1555887,1301829,1302758,1529693,2169754,2010926,1999359,1972165,1543302,1390353,1415134,1615241,1607830,1328565,1501925,1622364,1965718,2306943,2403778,1967388,1662412,1414428,1413254,1513157,1741755,1446674,1479110,1681149,2225994,2554281,2335770,2109623,1672724,1430242,1459015,1556011,1531863,1329726,1488645,1714971,2226478,2538368,2162215,1996245,1585512,1353150,1378772,1503321,1578354,1427135,1510867,1619852,2310875,2624217,2312746,1974222,1540128,1465089,1500962,1668244,1718550,1485061,1506234,1809151,2522442,2699039,2285465,2056105,1665278,1509295,1503845,1728010,1727907,1500242,1579772,1860159,2351937,2557465,2319221,1949890,1784460,1703507,1702557,1891318,1832775,1640347,1727393,1989660,2312832,2661816,2371983,2316191,1783603,1572373,1567216,1738157,1739436,1588718,1680814,2118508,2700111,2997145,2556038,2365293,1786764,1636202,1576508,1701744,1751644,1635485,1730740,2167984,2475535,2903574,2730693,2392542,1826933,1678755,1723906,1882675,1867936,1723960,1804380,2064029,2389902,2880714,2459545,2164467,1903501,1785885,1825125,2001036,2023229,1774412,1748897,1979957,2665391,2708217,2161185,2324198,1753578,1710548,1731387,1950510,1904112,1737701,1838965,2155805,2858509,3107734,2507085,2576005,2148089,1855856,1867447,2139037,2100482,1949898,2069201,2488282,2759042,3161732,2783640,2680848,1994279,1912779,1902995,2162450,2197474,1982049,2072599,2535754,2904407,3052335,2809540,2475096,2035122,1861283,1917555,2234989,2173203,1938029,2093493,2215375,2924939,3056278,2850394,2387023,2036708,1882870,2008918,2171329,2188822,1906377,2015381,2427617,2731775,3287895,2793006,2516726,2114010,1995895,2074067,2329216,2306262,2047010,2108275,2502928,3084994,3030057,2702018,2743975,2176612,2065968,2118628,2404122,2409018,2128961,2186224,2558279,2885437,3422552,2703367,2532473,2151696,2085209,2182539,2478715,2450612,2170036,2175662,2450046,3061848,3610940,2966856,2476782,2131612],"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Actual","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01"],"y":[1770246.0859448789,1758940.3852662556,1747634.6845876321,1738055.2314299596,1728475.778272287,1721420.2492415328,1714364.7202107785,1720136.2812363212,1725907.8422618636,1729948.9843273996,1733990.1263929354,1742268.3262225671,1750546.5260521988,1759898.5504117813,1769250.574771364,1782313.0088953092,1795375.4430192546,1796037.1891505774,1796698.9352819,1793420.7828863338,1790142.6304907675,1783198.4836208303,1776254.3367508932,1766085.6056168494,1755916.8744828056,1739545.6827495699,1723174.4910163342,1711166.7676616984,1699159.0443070626,1693323.0860443609,1687487.1277816591,1686141.2219192178,1684795.3160567766,1686185.8265183293,1687576.3369798823,1688817.5645079296,1690058.7920359769,1694825.540278482,1699592.2885209871,1698133.4650888825,1696674.6416567781,1697674.1496447453,1698673.6576327125,1700539.9757484505,1702406.2938641883,1712921.5487485763,1723436.8036329644,1728819.5965487252,1734202.3894644859,1733555.540709543,1732908.6919546004,1730490.6929972228,1728072.6940398454,1720705.4270561915,1713338.1600725376,1703976.8907856529,1694615.6214987682,1686331.4420354462,1678047.2625721241,1675090.7059452992,1672134.1493184743,1680048.0651117072,1687961.9809049401,1702384.8247338948,1716807.6685628493,1728752.7989544901,1740697.9293461312,1744171.2050332702,1747644.480720409,1737841.9775505289,1728039.4743806492,1728575.1984488987,1729110.9225171485,1728218.8551922888,1727326.7878674292,1732429.5263964219,1737532.2649254147,1742371.3615786154,1747210.4582318158,1748423.1977634029,1749635.9372949898,1755755.3394526695,1761874.7416103489,1769828.4676495779,1777782.1936888068,1783176.6217470476,1788571.0498052887,1789322.2521962025,1790073.4545871166,1777372.5232241084,1764671.5918611002,1760011.4463896258,1755351.3009181516,1752002.9411428452,1748654.5813675388,1747171.4155722957,1745688.2497770526,1738693.3503321426,1731698.4508872326,1729916.584734828,1728134.7185824234,1737539.2667159149,1746943.8148494062,1763722.8595548826,1780501.9042603592,1796745.0548658255,1812988.2054712917,1819625.2268694364,1826262.2482675815,1828319.9688196713,1830377.6893717614,1833913.112838591,1837448.5363054206,1842975.3529966644,1848502.1696879081,1849112.1991866471,1849722.228685386,1850859.0955135725,1851995.9623417591,1851078.7708271202,1850161.5793124815,1853262.0443704007,1856362.50942832,1859627.6443005316,1862892.7791727432,1869245.8341974446,1875598.889222146,1881179.7152364817,1886760.5412508175,1890607.8789599948,1894455.2166691723,1907637.145222743,1920819.073776314,1944184.7342322539,1967550.3946881935,1991168.7389423312,2014787.0831964687,2025400.5330593667,2036013.9829222648,2031667.4805889348,2027320.9782556046,2018063.828830797,2008806.6794059894,2002856.5237910259,1996906.3681760626,1987084.9763522369,1977263.5845284113,1966822.9544214341,1956382.3243144571,1951288.3487320053,1946194.3731495535,1950997.2479853828,1955800.122821212,1966818.9643971443,1977837.8059730765,1984707.6877310984,1991577.56948912,2008046.7360732481,2024515.9026573761,2003648.7280270129,1982781.5533966497,1978320.7653507371,1973859.9773048246,1977774.0338595652,1981688.0904143057,1997182.2681352044,2012676.4458561032,2023071.4686486721,2033466.491441241,2041652.7126091397,2049838.9337770385,2055323.9820698018,2060809.0303625651,2066041.1518821195,2071273.2734016739,2079329.907898739,2087386.5423958038,2089770.4986160719,2092154.4548363402,2099286.5487875538,2106418.642738767,2114514.1633931175,2122609.6840474675,2138372.6906225048,2154135.6971975425,2151607.6713935896,2149079.6455896366,2131336.176392436,2113592.7071952359,2091467.9857154118,2069343.2642355878,2059296.8541766289,2049250.4441176697,2051785.8818057212,2054321.3194937727,2061108.1662474251,2067895.0130010778,2083091.8474275267,2098288.6818539756,2119693.4581980696,2141098.2345421631,2171868.8996969806,2202639.5648517981,2232775.0059498465,2262910.4470478944,2268736.2324468037,2274562.0178457135,2276031.2914660759,2277500.5650864383,2279963.3451132393,2282426.1251400402,2300055.0438880902,2317683.9626361406,2324393.9475963628,2331103.9325565854,2331133.5174090513,2331163.1022615172,2325899.1953819972,2320635.2885024776,2316779.1070825122,2312922.9256625464,2320093.1153656151,2327263.3050686843,2330389.6446071183,2333515.9841455529,2330223.1091682976,2326930.2341910419,2321114.1350474413,2315298.0359038413,2313367.0511922864,2311436.0664807311,2315245.3143149801,2319054.5621492285,2322561.1274897447,2326067.6928302608,2331363.4906998491,2336659.2885694373,2336682.7722066096,2336706.2558437819,2334251.0167764938,2331795.7777092061,2328855.4737829855,2325915.1698567644,2323810.8282372318,2321706.4866176997,2319692.9258128772,2317679.3650080548,2317962.1435816186,2318244.9221551819,2322892.2432135185,2327539.5642718556,2341425.8552565277,2355312.1462411992,2367417.0860328311,2379522.025824463,2395401.6309096394,2411281.2359948163,2418074.5797097986,2424867.9234247808,2428272.306744175,2431676.6900635688,2439611.4658931699,2447546.241722771,2454505.0543399728,2461463.8669571746,2468965.6129760672,2476467.3589949599,2478794.3578823823,2481121.3567698048,2488330.9733768553,2495540.5899839052,2498366.4504426457,2501192.3109013857,2495585.0922105582,2489977.8735197303,2482195.2819779301,2474412.6904361304,2467756.7969374219,2461100.9034387129,2479898.622998165,2498696.3425576175,2514193.5264068111,2529690.7102560047,2525004.090998414,2520317.4717408237,2504108.8691590084,2487900.266577193,2472862.8111661701,2457825.3557551475,2443647.6694030678,2429469.9830509881,2415952.5130532286],"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Trend","type":"scatter","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":["2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01"],"y":[772172.58828610659,362937.18054543406,316142.01589905069,-86485.555953595307,-321115.69537252642,-361194.64462236478,-219905.91803131934,-192096.31692183038,-373659.77907514968,-263391.73328674753,-79075.350808020463,445296.02338583785,775054.18112965731,361661.784209801,313863.99139124481,-89528.363957938796,-320159.68395917444,-358272.45766095392,-218416.09406009168,-191013.99092719599,-374240.67222870176,-265021.57810175448,-81165.786451946857,446544.43055312976,781536.4812856873,356554.10727200529,309708.88266794197,-94944.138228987082,-318436.67679251742,-351863.53224435705,-214172.41113800943,-189049.84415296349,-376119.46974621824,-269091.42418647598,-83002.924419915522,448419.33520227479,797951.33062521834,347027.3968092401,298547.25701834547,-111839.31212476647,-313603.67144978896,-338058.63993585424,-204730.98445496795,-179457.57598875329,-379875.98455400334,-276617.82575286034,-90255.438221483477,452833.54594742012,806702.29860507324,342899.72253134445,286025.24542962393,-123776.41715056919,-316890.16695531423,-328656.01969473873,-194335.03424374913,-165218.95907985166,-384104.71943709301,-270373.28653344722,-101407.44969672368,463049.53329266957,796839.83114360168,340783.81554450723,282634.73299605679,-123635.67399809968,-327999.38221795677,-322869.38903998607,-190112.46249758487,-160719.06884161127,-390682.49423666962,-265345.37170834932,-97208.055846522038,472403.1835950432,781050.10232070519,353414.29397682659,282119.41309806349,-121908.39569156988,-340053.00440037216,-324358.27682529209,-200537.45836655953,-175692.57808332567,-395584.70958609472,-265259.54207851959,-82735.359296272291,472800.30790378782,784846.14337626472,410016.32894031209,268156.75142102304,-120994.76592026401,-353847.64532212878,-334956.06574654899,-216837.13029818409,-188255.7281843503,-382263.10967208305,-279318.52679131832,-64196.864788904662,473589.35725324176,793219.01299456379,444126.86219613475,250237.20380468978,-136444.70645888438,-364730.85028539842,-343193.74519462738,-207528.46544489579,-178837.85360126168,-376847.65384529124,-295525.59183498635,-44710.825190103307,475551.96953906305,807606.21626005997,437809.48078204313,228763.61679329653,-167341.7475611525,-360907.78711693408,-347501.81364408281,-185383.19489745647,-166589.33093820434,-373887.91881114885,-304435.95229223359,-34132.814318389734,468266.59231881372,820234.63789939426,424973.34957015724,228342.7345083144,-189214.47879131831,-352769.44969261205,-349292.43281748815,-169723.73348102794,-168750.24073822473,-375026.45667978161,-306788.07448885345,-30710.104167829915,449018.35651788703,834299.14093914907,406844.22327306081,277081.34770798567,-197165.32234169875,-351331.22757691023,-360183.49980790529,-173984.54143194156,-188055.89003527415,-376501.62280998571,-297810.39485866926,-28530.565058576114,436171.02084028197,857356.36021389032,389768.60619523353,323700.97563471011,-203649.63147193307,-353584.8187052437,-367402.33641686087,-190313.48645305261,-206780.30520025952,-369044.13400049479,-284925.08372605895,-22073.308788176098,441073.04410250526,846083.25369162357,377162.2961673605,343514.29419923137,-210293.02904533249,-362498.87503766408,-364235.62653827277,-196675.5445816291,-210830.01783872815,-358610.1374290738,-284696.85588984936,-35622.754435412236,492895.66891585774,830443.04787892161,359659.29601033498,335256.69455066993,-227063.07824416333,-364622.94026219269,-355207.87494503346,-183616.63242424134,-207092.50338220014,-355508.52971888834,-297167.29201338836,-52137.351701321109,551400.97615714604,829157.30549673992,347194.23885244079,313466.96956835687,-247814.19040675447,-370512.52020960639,-351214.59193687269,-163580.97416139371,-203158.31954415719,-364092.61385341547,-307281.83070577844,-54295.54988136061,593089.34748425602,824855.38759023743,374904.30294886051,294248.70505495137,-271929.06549018412,-383398.99235881289,-366482.78909361211,-152819.85417814698,-192149.1484371445,-368346.59726351593,-302275.87327442149,-59834.218652713964,611180.61179010046,816818.82141583681,439571.15819356788,265574.66271283425,-298280.52239684417,-397475.80800275842,-387916.94153639558,-144957.34303012901,-178106.51006003132,-371285.1662775405,-280977.12280270172,-55944.512122466884,604184.180409541,796747.08052443678,483101.96457359992,222471.9847889395,-300161.9963825263,-419243.32159617764,-397157.59687111352,-137798.6266507128,-164152.06180574172,-378761.72188689042,-265793.03594336269,25545.037735567967,592812.45489448903,770634.76036621712,484489.43977203534,158194.01648172952,-294672.65267092158,-430748.7900019603,-384270.21400385938,-131868.63049809204,-146011.9830657772,-387295.16804922774,-275615.88840909587,85829.70235850499,591644.65377281653,742989.42268851236,480294.74042646267,129855.76483882143,-290278.84511819034,-432468.85004359583,-365142.23422318551,-116520.12577621173,-132236.06801127957,-392415.88898931362,-293798.20112368785,76478.558053483619,604361.80627265375,726527.67462365411,476984.85743067454,114128.36465215753,-293344.40723955428,-426496.74702397367,-356357.82790721819,-102922.09080602587,-117122.10989827749,-384495.13698203559,-305904.23265090323,69825.611745531278,603711.16533287696,725838.0984882348,486082.37961904571,91193.039917297108,-297414.10624084569,-424001.35631151858,-352233.84463533096,-97400.355460221152,-111343.95797643463,-381022.3807098401,-310620.18180155958,66981.571654849031,603260.50461314013,725341.89478130091,490942.69672648044,83791.749668074131,-298210.78876733658,-422906.48933155107,-351034.56623414479,-95028.869247775874,-108589.18488346206,-379491.6177042225,-313251.75819714164,65219.730848262116,603153.14314517064,724853.17649241956,493270.9830502994,79917.340114553503,-299333.9877873768],"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Seasonal","type":"scatter","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y3","frame":null},{"x":["2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01"],"y":[1732838.4117138935,1793935.8194545659,1770425.9841009493,1750317.5559535953,1706278.6953725265,1674313.6446223648,1679824.9180313193,1720579.3169218304,1734530.7790751497,1770819.7332867475,1641045.3508080204,1520576.9766141621,1544218.8188703428,1729124.2157901991,1783051.0086087552,1824077.3639579387,1790663.6839591744,1812239.457660954,1821265.0940600918,1773092.9909271961,1782839.6722287019,1771957.5781017544,1847560.7864519469,1767622.5694468701,1751199.5187143127,1989934.8927279948,1731813.117332058,1698797.1382289871,1697933.6767925173,1592059.532244357,1678876.4111380095,1701571.8441529635,1675247.4697462183,1686325.424186476,1699156.9244199155,1660270.6647977252,1714892.6693747817,2011918.6031907599,1654059.7429816546,1721585.3121247664,1755160.6714497888,1694324.6399358544,1657069.984454968,1625349.5759887532,1737587.9845540035,1703163.8257528604,1738234.4382214835,1723186.4540525798,1590010.7013949268,1751457.2774686555,1762143.7545703761,1708964.4171505691,1703807.1669553141,1728674.0196947388,1741943.0342437492,1721105.9590798516,1685933.719437093,1573131.2865334472,1631100.4496967236,1706704.4667073304,1214086.1688563982,1658575.1844554928,1689530.2670039432,1666937.6739980998,1718352.3822179567,1738003.3890399861,1805353.462497585,1768549.0688416113,1719247.4942366695,1767270.3717083493,1719572.0558465221,1493314.8164049569,1525892.8976792949,2050363.7060231734,1685268.5869019364,1784320.3956915699,1754481.004400372,1737612.276825292,1713694.4583665596,1917447.5780833256,1842258.7095860946,1744369.5420785197,1763884.3592962723,1753193.6920962122,1769434.8566237353,1925753.6710596879,1841466.2485789768,1793718.7659202639,1784089.6453221287,1793971.0657465491,1772848.130298184,1720118.7281843503,1711989.1096720831,1767963.5267913183,1779167.8647889046,1752888.6427467582,1745148.9870054363,1718088.1378038651,1746007.7961953103,1721956.7064588843,1717880.8502853983,1721965.7451946274,1710849.4654448959,1757191.8536012617,1803982.6538452911,1806392.5918349863,1664562.8251901034,1835323.0304609369,1816610.78373994,1874936.5192179568,1745458.3832067035,1707469.7475611526,1825996.7871169341,1848463.8136440828,1853627.1948974566,1885139.3309382044,1858948.918811149,1810669.9522922337,1843283.8143183896,2054175.4076811862,1878804.3621006059,1860491.6504298428,1827762.2654916856,1854492.4787913184,1862064.449692612,1853137.4328174882,1897733.7334810279,1896657.2407382247,1875268.4566797817,1886560.0744888536,1890869.10416783,1902918.643482113,1723165.8590608509,1912376.7767269392,1672808.6522920143,1981625.3223416987,2054838.2275769103,2062740.4998079054,2065302.5414319416,2020830.8900352742,2016848.6228099857,2025203.3948586693,2018190.5650585762,1876660.9791597179,1804459.6397861098,1982214.3938047665,1992490.0243652898,1987252.6314719331,1925957.8187052438,1934618.3364168608,1928470.4864530526,1946216.3052002594,1957762.1340004948,1965739.0837260589,2140581.3087881762,2259037.9558974947,2151061.7463083765,2178875.7038326394,2021778.7058007687,1997057.0290453325,1998700.8750376641,1940743.6265382727,1898419.5445816291,1962474.0178387281,1994095.1374290739,2015436.8558898494,2203606.7544354121,1982639.3310841422,2073130.9521210785,2371033.703989665,2057285.30544933,2053996.0782441634,2043377.9402621926,2079113.8749450333,2066291.6324242414,2075028.5033822001,2079468.5297188885,2101547.2920133881,2116166.3517013211,1838501.023842854,2051556.6945032601,2112350.7611475592,1851000.0304316431,2151315.1904067546,2156397.5202096067,2176339.5919368728,2164616.9741613939,2226387.319544157,2138504.6138534155,2056178.8307057784,2034252.5498813605,2072301.6525157439,1883361.6124097626,1786280.6970511395,2029949.2949450486,2025507.0654901841,2093946.9923588128,2097869.7890936118,2103329.8541781469,2096261.1484371445,2106047.5972635159,2141240.8732744213,2215639.218652714,2247328.3882098994,2290915.1785841631,2067513.8418064322,2310430.3372871657,2446369.5223968443,2253331.8080027588,2255363.9415363958,2283994.3430301291,2278588.5100600314,2321183.1662775404,2350178.1228027013,2544226.5121224667,2154857.8195904591,2364984.9194755633,2300538.0354264001,2458376.0152110606,2294440.9963825261,2332022.3215961773,2300152.5968711134,2300248.6266507129,2361626.0618057419,2360810.7218868905,2338392.0359433629,2510208.9622644321,2311594.5451055109,2281700.2396337828,2325050.5602279645,2316901.9835182703,2329794.6526709218,2292031.7900019605,2301825.2140038596,2366857.6304980922,2319214.983065777,2325324.1680492279,2369108.8884090958,2129545.2976414952,2333294.3462271835,2313288.5773114879,2370099.2595735374,2257167.2351611787,2326986.8451181902,2315338.8500435962,2374060.2342231856,2287849.1257762117,2321058.0680112797,2298792.8889893135,2309179.2011236879,2351138.4419465163,2127413.1937273461,2561367.3253763458,2316021.1425693254,2402597.6353478422,2407354.4072395544,2422391.7470239736,2430424.8279072186,2432138.090806026,2423384.1098982776,2431505.1369820358,2414179.2326509031,2433102.3882544688,2481282.8346671229,2304218.9015117651,2215935.6203809544,2652781.9600827028,2474026.1062408458,2489969.3563115187,2470861.8446353311,2501522.3554602209,2520361.9579764348,2509983.38070984,2496844.1818015594,2491297.4283451508,2282176.4953868599,2697210.1052186992,2212424.3032735195,2448681.2503319257,2449906.7887673364,2508115.4893315509,2533573.5662341448,2573743.869247776,2559201.1848834623,2549527.6177042224,2488913.7581971418,2384826.2691517379,2458694.8568548295,2886086.8235075804,2473585.0169497007,2396864.6598854465,2430945.9877873766],"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Seasonal Adjusted","type":"scatter","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y4","frame":null},{"x":["2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01"],"y":[-37407.674230985343,34995.43418831029,22791.299513317179,12262.324523635674,-22197.082899760455,-47106.604619167978,-34539.80217945925,443.03568550921045,8622.93681328604,40870.748959347839,-92944.775584914954,-221691.34960840503,-206327.70718185604,-30774.33462158218,13800.433837391203,41764.355062629562,-4711.7590600801632,16202.268510376569,24566.158778191777,-20327.791959137656,-7302.9582620656583,-11240.905519075925,71306.449701053789,1536.9638300207444,-4717.355768492911,250389.20997842494,8638.6263157238718,-12369.629432711285,-1225.3675145453308,-101263.55380000384,-8610.7166436496191,15430.622233745642,-9547.8463105582632,139.59766814671457,11580.58744003321,-28546.899710204452,24833.87733880477,317093.06291227788,-45532.545539332554,23451.847035883926,58486.029793010792,-3349.5097088909242,-41603.673177744495,-75190.399759697262,35181.690689815208,-9757.7229957159143,14797.634588519111,-5633.1424961453304,-144191.68806955917,17901.736759112449,29235.062615775736,-21526.275846653618,-24265.527084531263,7968.5926385472994,28604.874171211617,17129.068294198718,-8681.9020616752096,-113200.15550199896,-46946.81287540053,31613.76076203119,-458047.98046207614,-21472.880656214431,1568.2860990031622,-35447.150735795032,1544.7136551074218,9250.5900854959618,64655.533151453827,24377.863808341091,-28396.986483739456,29428.394157820381,-8467.418534127064,-235260.38204394188,-203218.02483785362,322144.85083088465,-42058.200965492753,51890.869295147946,16948.739474957343,-4759.0847533233464,-33515.99986525625,169024.3803199227,92622.772291104775,-11385.797374149784,2009.6176859233528,-16634.775553365704,-8347.337065071566,142577.04931264021,52895.198773688171,4396.5137240614276,-5983.80926498794,16598.542522440664,8176.5384370838292,-39892.71820527548,-43362.191246068571,15960.585648473119,30513.283421365777,5717.2271744625177,-539.2627716162242,-20605.212528277421,14309.345308077754,-7959.8782759436872,-10253.868297025096,-15573.521521287505,-36094.349404510343,-6531.0059536208864,23480.74958493188,9647.5369691608939,-148425.38028118829,15697.803591500502,-9651.464527641423,46616.550398285501,-84919.306165057933,-126443.36527743842,-11451.749188486487,5488.4606474183965,5125.0252095484175,36027.131751557346,9226.6901257629506,-40189.143221338745,-8712.1480233694892,203096.63685406605,28642.782788124401,7229.6060594420414,-28600.24393663439,-5135.1655092132278,-828.32948013115674,-16108.401379956398,22134.844258881873,15477.525501742959,-11492.084571035812,-4047.8044711411931,-3586.1125013423152,-4718.5017406300176,-197653.21471546311,-31807.957505314611,-294741.74239617912,-9543.4166006324813,40051.144380441634,37339.96674853866,29288.558509676717,-10836.590553660644,-10472.355445618974,7139.5660278722644,9383.8856525868177,-126195.54463130794,-192446.7283899528,-4870.5825474704616,15226.439836878562,20429.677050499013,-30424.505609213375,-16670.01231514453,-17723.886696500937,-4780.9427851233631,1962.0111792827956,-1079.8806710853241,162743.50281509967,274330.2681663963,159484.17681925651,170828.96775939129,-2737.1968566074502,-6591.6989816804416,15919.321641014423,-37577.138812464429,-75440.432723195525,-15300.016020837007,12407.047014768235,18254.587754644919,190930.30857930891,-40432.137564529898,39664.460679837503,329380.99138052529,7446.3716722915415,-1327.9038256383501,-17431.090100372443,13072.723062913865,-4981.6409774324857,-4301.4045165388379,-7918.0126769153867,11776.793397316243,24011.896864980925,-260785.52494469984,-54861.94823550689,-2163.4022455583327,-271609.65361582441,12942.499784249812,2261.8230120642111,24731.920543283224,15537.328571757302,95051.143151720986,24911.906658179592,-35289.155009633396,-35090.714354227297,13004.79833911499,-165888.83170790714,-265505.18475458166,-24372.024548724061,-35601.100757241016,26051.979357735021,14777.94166608504,5041.1723241712898,-23432.309760925127,-35050.637278647162,-30628.026422559284,12999.653800915927,14553.382260052953,28004.731536268722,-201222.39064037148,35868.319441452157,170338.23093076842,-24168.757083679549,-24599.403576843441,1568.2178900889121,-21466.533828058746,3499.2036413997412,25784.175206338521,213122.57956588129,-176275.69781859219,33821.817214046139,-25361.159955597017,137740.72670858307,-22338.110699986108,19099.395933630876,-19940.51849450171,-27014.678417971358,31236.417198623531,27294.737741337623,8168.9267750652507,183278.7280733902,-9519.5899419304915,-33597.79627005849,11683.509035678115,5465.9170375391841,14549.338355941698,-27022.772147268057,-20735.913485885132,40789.937667831313,-12148.507634072099,-11335.120520209428,32426.116202486213,-207160.95820228662,-956.67054931027815,-18507.200397718232,41243.785790551919,-68747.934695585631,3176.0168809583411,-6367.636574103497,54367.308410308324,-29830.239231843036,3095.9244296611287,-19452.033165868372,-13713.042089830618,23598.877674660645,-214012.66152918153,206055.17913514655,-51395.943463505711,23075.609523379244,11952.776329915039,11110.511029157322,12350.248197420035,7270.1673812451772,-4888.1968458974734,-171.55308153294027,-25432.233242266811,-14443.853468302172,26777.780327150133,-157244.96544540953,-253029.99259511288,176314.60108774295,-4768.2516415365972,8847.9995417138562,-17469.128741524182,5981.7654763157479,21995.507533789147,8791.0698084542528,1259.0895910011604,1319.5548254204914,-200018.78659107024,222797.41478256881,-255332.49366390239,-12419.653106787242,-29991.834230828565,9419.146773933433,19380.039827333763,44053.158991771284,34197.093885048293,29210.14596339874,-15195.110961866565,-103073.99742545513,-14167.954311340582,428261.46775243292,29937.347546632867,-32605.323165541515,14993.474734148011],"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Irregular","type":"scatter","marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y5","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"title":"Decomposition Method: STL","anchor":"y5"},"yaxis5":{"domain":[0,0.17999999999999997],"automargin":true,"title":"Irregular","anchor":"x"},"yaxis4":{"domain":[0.21999999999999995,0.37999999999999989],"automargin":true,"title":"Seasonal Adjusted","anchor":"x"},"yaxis3":{"domain":[0.41999999999999993,0.57999999999999996],"automargin":true,"title":"Seasonal","anchor":"x"},"yaxis2":{"domain":[0.62,0.78000000000000003],"automargin":true,"title":"Trend","anchor":"x"},"yaxis":{"domain":[0.82000000000000006,1],"automargin":true,"title":"Actial","anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":false},"attrs":{"4edf7b17a74b":{"x":{},"y":{},"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Actual","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"4edf5cea6455":{"x":{},"y":{},"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Trend","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"4edf54c5de44":{"x":{},"y":{},"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Seasonal","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"4edf5269865e":{"x":{},"y":{},"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Seasonal Adjusted","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"4edf17bf368d":{"x":{},"y":{},"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Irregular","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="the-irregular-component-1" class="level2">
<h2 class="anchored" data-anchor-id="the-irregular-component-1">The Irregular Component</h2>
<p>Unfortunately, most of us are not that lucky to get the “perfect” time series data that can be explained solely by its trend and seasonal components. In reality, some of the variation and patterns of time series are related to outliers, non-seasonal recurring events, structural breaks, and similar patterns. In this case, the irregular can help us reveal some patterns. Here is a useful trick I love adding to the decomposition plot - identify outliers in the irregular components and map them back to the series.</p>
<p>To do so, we will calculate the irregular component standard deviation and classify it between 2 and 3 SD and above:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>sdv <span class="ot">&lt;-</span> <span class="fu">sd</span>(ts_stl_d<span class="sc">$</span>remainder)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>ts_stl_d <span class="ot">&lt;-</span> ts_stl_d <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">sd3 =</span> <span class="fu">ifelse</span>(remainder <span class="sc">&gt;=</span> <span class="dv">3</span> <span class="sc">*</span> sdv <span class="sc">|</span> remainder <span class="sc">&lt;=</span> <span class="sc">-</span><span class="dv">3</span> <span class="sc">*</span> sdv, y, <span class="cn">NA</span> ),</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">sd2 =</span> <span class="fu">ifelse</span>(remainder <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">*</span> sdv <span class="sc">&amp;</span> remainder <span class="sc">&lt;</span> <span class="dv">3</span> <span class="sc">*</span> sdv <span class="sc">|</span>  remainder <span class="sc">&lt;=</span> <span class="sc">-</span><span class="dv">2</span> <span class="sc">*</span> sdv <span class="sc">&amp;</span>  remainder <span class="sc">&gt;</span>  <span class="sc">-</span><span class="dv">3</span> <span class="sc">*</span> sdv, y, <span class="cn">NA</span>))</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="sc">!</span><span class="fu">is.na</span>(ts_stl_d<span class="sc">$</span>sd2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
FALSE  TRUE 
  270    22 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="sc">!</span><span class="fu">is.na</span>(ts_stl_d<span class="sc">$</span>sd3))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
FALSE  TRUE 
  286     6 </code></pre>
</div>
</div>
<p>Let’s now add it to the plot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> ts_stl_d <span class="sc">|&gt;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(index))</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>color <span class="ot">&lt;-</span> <span class="st">"#0072B5"</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>dec_attr <span class="ot">&lt;-</span> <span class="fu">attributes</span>(ts_stl_d)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>series <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>date, <span class="at">y =</span> <span class="sc">~</span>y, <span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"lines"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> color), <span class="at">name =</span> <span class="st">"Actual"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span> date, <span class="at">y =</span> <span class="sc">~</span> sd2, <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"orange"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span> date, <span class="at">y =</span> <span class="sc">~</span> sd3, <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"red"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Actial"</span>))</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>trend <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>date, <span class="at">y =</span> <span class="sc">~</span>trend, <span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"lines"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> color), <span class="at">name =</span> <span class="st">"Trend"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Trend"</span>))</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>seasonal <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>date, <span class="at">y =</span> <span class="sc">~</span>season_year, <span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"lines"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> color), <span class="at">name =</span> <span class="st">"Seasonal"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Seasonal"</span>))</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>seasonal_adj <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>date, <span class="at">y =</span> <span class="sc">~</span>season_adjust, <span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"lines"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> color), <span class="at">name =</span> <span class="st">"Seasonal Adjusted"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Seasonal Adjusted"</span>))</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>irregular <span class="ot">&lt;-</span> d <span class="sc">|&gt;</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>date, <span class="at">y =</span> <span class="sc">~</span>remainder, </span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a><span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"lines"</span>, </span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a><span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> color), <span class="at">name =</span> <span class="st">"Irregular"</span>, <span class="at">showlegend =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">add_segments</span>(<span class="at">x =</span> <span class="fu">min</span>(d<span class="sc">$</span>date), </span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a><span class="at">xend =</span> <span class="fu">max</span>(d<span class="sc">$</span>date), </span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a><span class="at">y =</span> <span class="dv">2</span> <span class="sc">*</span> sdv, </span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a><span class="at">yend =</span> <span class="dv">2</span> <span class="sc">*</span> sdv, </span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a><span class="at">name =</span> <span class="st">"2SD"</span>,</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a><span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">dash =</span> <span class="st">"dash"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">add_segments</span>(<span class="at">x =</span> <span class="fu">min</span>(d<span class="sc">$</span>date), </span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a><span class="at">xend =</span> <span class="fu">max</span>(d<span class="sc">$</span>date), </span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a><span class="at">y =</span> <span class="sc">-</span> <span class="dv">2</span> <span class="sc">*</span> sdv, </span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a><span class="at">yend =</span> <span class="sc">-</span> <span class="dv">2</span> <span class="sc">*</span> sdv, </span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a><span class="at">name =</span> <span class="st">"-2SD"</span>,</span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a><span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">dash =</span> <span class="st">"dash"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">add_segments</span>(<span class="at">x =</span> <span class="fu">min</span>(d<span class="sc">$</span>date), </span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a><span class="at">xend =</span> <span class="fu">max</span>(d<span class="sc">$</span>date), </span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a><span class="at">y =</span> <span class="dv">3</span> <span class="sc">*</span> sdv, </span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a><span class="at">yend =</span> <span class="dv">3</span> <span class="sc">*</span> sdv, </span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a><span class="at">name =</span> <span class="st">"3SD"</span>,</span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a><span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">dash =</span> <span class="st">"dash"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">add_segments</span>(<span class="at">x =</span> <span class="fu">min</span>(d<span class="sc">$</span>date), </span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a><span class="at">xend =</span> <span class="fu">max</span>(d<span class="sc">$</span>date), </span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a><span class="at">y =</span> <span class="sc">-</span><span class="dv">3</span> <span class="sc">*</span> sdv, </span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a><span class="at">yend =</span> <span class="sc">-</span><span class="dv">3</span> <span class="sc">*</span> sdv, </span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a><span class="at">name =</span> <span class="st">"-3SD"</span>,</span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a><span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">dash =</span> <span class="st">"dash"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Irregular"</span>))</span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">subplot</span>(series, trend, seasonal, seasonal_adj, irregular, </span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a><span class="at">nrows =</span> <span class="dv">5</span>, <span class="at">titleY =</span> <span class="cn">TRUE</span>, <span class="at">shareX =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">layout</span>(<span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Decomposition Method: "</span>, dec_attr<span class="sc">$</span>method, <span class="at">sep =</span> <span class="st">""</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-6a9b4cedd2d3929a95d7" style="width:100%;height:928px;"></div>
<script type="application/json" data-for="htmlwidget-6a9b4cedd2d3929a95d7">{"x":{"data":[{"x":["2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01"],"y":[2505011,2156873,2086568,1663832,1385163,1313119,1459919,1528483,1360871,1507428,1561970,1965873,2319273,2090786,2096915,1734549,1470504,1453967,1602849,1582079,1408599,1506936,1766395,2214167,2532736,2346489,2041522,1603853,1379497,1240196,1464704,1512522,1299128,1417234,1616154,2108690,2512844,2358946,1952607,1609746,1441557,1356266,1452339,1445892,1357712,1426546,1647979,2176020,2396713,2094357,2048169,1585188,1386917,1400018,1547608,1555887,1301829,1302758,1529693,2169754,2010926,1999359,1972165,1543302,1390353,1415134,1615241,1607830,1328565,1501925,1622364,1965718,2306943,2403778,1967388,1662412,1414428,1413254,1513157,1741755,1446674,1479110,1681149,2225994,2554281,2335770,2109623,1672724,1430242,1459015,1556011,1531863,1329726,1488645,1714971,2226478,2538368,2162215,1996245,1585512,1353150,1378772,1503321,1578354,1427135,1510867,1619852,2310875,2624217,2312746,1974222,1540128,1465089,1500962,1668244,1718550,1485061,1506234,1809151,2522442,2699039,2285465,2056105,1665278,1509295,1503845,1728010,1727907,1500242,1579772,1860159,2351937,2557465,2319221,1949890,1784460,1703507,1702557,1891318,1832775,1640347,1727393,1989660,2312832,2661816,2371983,2316191,1783603,1572373,1567216,1738157,1739436,1588718,1680814,2118508,2700111,2997145,2556038,2365293,1786764,1636202,1576508,1701744,1751644,1635485,1730740,2167984,2475535,2903574,2730693,2392542,1826933,1678755,1723906,1882675,1867936,1723960,1804380,2064029,2389902,2880714,2459545,2164467,1903501,1785885,1825125,2001036,2023229,1774412,1748897,1979957,2665391,2708217,2161185,2324198,1753578,1710548,1731387,1950510,1904112,1737701,1838965,2155805,2858509,3107734,2507085,2576005,2148089,1855856,1867447,2139037,2100482,1949898,2069201,2488282,2759042,3161732,2783640,2680848,1994279,1912779,1902995,2162450,2197474,1982049,2072599,2535754,2904407,3052335,2809540,2475096,2035122,1861283,1917555,2234989,2173203,1938029,2093493,2215375,2924939,3056278,2850394,2387023,2036708,1882870,2008918,2171329,2188822,1906377,2015381,2427617,2731775,3287895,2793006,2516726,2114010,1995895,2074067,2329216,2306262,2047010,2108275,2502928,3084994,3030057,2702018,2743975,2176612,2065968,2118628,2404122,2409018,2128961,2186224,2558279,2885437,3422552,2703367,2532473,2151696,2085209,2182539,2478715,2450612,2170036,2175662,2450046,3061848,3610940,2966856,2476782,2131612],"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Actual","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2001-12-01","2002-01-01",null,"2003-02-01",null,"2006-12-01","2007-01-01",null,"2010-12-01",null,"2012-01-01",null,"2013-01-01",null,"2013-12-01",null,"2014-11-01",null,"2015-12-01",null,"2016-03-01",null,"2017-02-01",null,"2018-02-01",null,"2018-11-01",null,"2020-11-01",null,"2021-12-01","2022-01-01",null,"2023-02-01",null,"2023-12-01","2024-01-01","2024-02-01"],"y":[1965873,2319273,null,2346489,null,1965718,2306943,null,2522442,null,2557465,null,2661816,null,2700111,null,2167984,null,2389902,null,2164467,null,2161185,null,2507085,null,2488282,null,2215375,null,2731775,3287895,null,2702018,null,2885437,3422552,2703367],"mode":"lines+markers","line":{"color":"#0072B5"},"showlegend":false,"name":"Actual","type":"scatter","marker":{"color":"orange","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2004-02-01",null,"2006-01-01",null,"2007-02-01",null,"2012-03-01",null,"2015-02-01",null,"2025-01-01"],"y":[2358946,null,2010926,null,2403778,null,1949890,null,2730693,null,3610940],"mode":"lines+markers","line":{"color":"#0072B5"},"showlegend":false,"name":"Actual","type":"scatter","marker":{"color":"red","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01"],"y":[1770246.0859448789,1758940.3852662556,1747634.6845876321,1738055.2314299596,1728475.778272287,1721420.2492415328,1714364.7202107785,1720136.2812363212,1725907.8422618636,1729948.9843273996,1733990.1263929354,1742268.3262225671,1750546.5260521988,1759898.5504117813,1769250.574771364,1782313.0088953092,1795375.4430192546,1796037.1891505774,1796698.9352819,1793420.7828863338,1790142.6304907675,1783198.4836208303,1776254.3367508932,1766085.6056168494,1755916.8744828056,1739545.6827495699,1723174.4910163342,1711166.7676616984,1699159.0443070626,1693323.0860443609,1687487.1277816591,1686141.2219192178,1684795.3160567766,1686185.8265183293,1687576.3369798823,1688817.5645079296,1690058.7920359769,1694825.540278482,1699592.2885209871,1698133.4650888825,1696674.6416567781,1697674.1496447453,1698673.6576327125,1700539.9757484505,1702406.2938641883,1712921.5487485763,1723436.8036329644,1728819.5965487252,1734202.3894644859,1733555.540709543,1732908.6919546004,1730490.6929972228,1728072.6940398454,1720705.4270561915,1713338.1600725376,1703976.8907856529,1694615.6214987682,1686331.4420354462,1678047.2625721241,1675090.7059452992,1672134.1493184743,1680048.0651117072,1687961.9809049401,1702384.8247338948,1716807.6685628493,1728752.7989544901,1740697.9293461312,1744171.2050332702,1747644.480720409,1737841.9775505289,1728039.4743806492,1728575.1984488987,1729110.9225171485,1728218.8551922888,1727326.7878674292,1732429.5263964219,1737532.2649254147,1742371.3615786154,1747210.4582318158,1748423.1977634029,1749635.9372949898,1755755.3394526695,1761874.7416103489,1769828.4676495779,1777782.1936888068,1783176.6217470476,1788571.0498052887,1789322.2521962025,1790073.4545871166,1777372.5232241084,1764671.5918611002,1760011.4463896258,1755351.3009181516,1752002.9411428452,1748654.5813675388,1747171.4155722957,1745688.2497770526,1738693.3503321426,1731698.4508872326,1729916.584734828,1728134.7185824234,1737539.2667159149,1746943.8148494062,1763722.8595548826,1780501.9042603592,1796745.0548658255,1812988.2054712917,1819625.2268694364,1826262.2482675815,1828319.9688196713,1830377.6893717614,1833913.112838591,1837448.5363054206,1842975.3529966644,1848502.1696879081,1849112.1991866471,1849722.228685386,1850859.0955135725,1851995.9623417591,1851078.7708271202,1850161.5793124815,1853262.0443704007,1856362.50942832,1859627.6443005316,1862892.7791727432,1869245.8341974446,1875598.889222146,1881179.7152364817,1886760.5412508175,1890607.8789599948,1894455.2166691723,1907637.145222743,1920819.073776314,1944184.7342322539,1967550.3946881935,1991168.7389423312,2014787.0831964687,2025400.5330593667,2036013.9829222648,2031667.4805889348,2027320.9782556046,2018063.828830797,2008806.6794059894,2002856.5237910259,1996906.3681760626,1987084.9763522369,1977263.5845284113,1966822.9544214341,1956382.3243144571,1951288.3487320053,1946194.3731495535,1950997.2479853828,1955800.122821212,1966818.9643971443,1977837.8059730765,1984707.6877310984,1991577.56948912,2008046.7360732481,2024515.9026573761,2003648.7280270129,1982781.5533966497,1978320.7653507371,1973859.9773048246,1977774.0338595652,1981688.0904143057,1997182.2681352044,2012676.4458561032,2023071.4686486721,2033466.491441241,2041652.7126091397,2049838.9337770385,2055323.9820698018,2060809.0303625651,2066041.1518821195,2071273.2734016739,2079329.907898739,2087386.5423958038,2089770.4986160719,2092154.4548363402,2099286.5487875538,2106418.642738767,2114514.1633931175,2122609.6840474675,2138372.6906225048,2154135.6971975425,2151607.6713935896,2149079.6455896366,2131336.176392436,2113592.7071952359,2091467.9857154118,2069343.2642355878,2059296.8541766289,2049250.4441176697,2051785.8818057212,2054321.3194937727,2061108.1662474251,2067895.0130010778,2083091.8474275267,2098288.6818539756,2119693.4581980696,2141098.2345421631,2171868.8996969806,2202639.5648517981,2232775.0059498465,2262910.4470478944,2268736.2324468037,2274562.0178457135,2276031.2914660759,2277500.5650864383,2279963.3451132393,2282426.1251400402,2300055.0438880902,2317683.9626361406,2324393.9475963628,2331103.9325565854,2331133.5174090513,2331163.1022615172,2325899.1953819972,2320635.2885024776,2316779.1070825122,2312922.9256625464,2320093.1153656151,2327263.3050686843,2330389.6446071183,2333515.9841455529,2330223.1091682976,2326930.2341910419,2321114.1350474413,2315298.0359038413,2313367.0511922864,2311436.0664807311,2315245.3143149801,2319054.5621492285,2322561.1274897447,2326067.6928302608,2331363.4906998491,2336659.2885694373,2336682.7722066096,2336706.2558437819,2334251.0167764938,2331795.7777092061,2328855.4737829855,2325915.1698567644,2323810.8282372318,2321706.4866176997,2319692.9258128772,2317679.3650080548,2317962.1435816186,2318244.9221551819,2322892.2432135185,2327539.5642718556,2341425.8552565277,2355312.1462411992,2367417.0860328311,2379522.025824463,2395401.6309096394,2411281.2359948163,2418074.5797097986,2424867.9234247808,2428272.306744175,2431676.6900635688,2439611.4658931699,2447546.241722771,2454505.0543399728,2461463.8669571746,2468965.6129760672,2476467.3589949599,2478794.3578823823,2481121.3567698048,2488330.9733768553,2495540.5899839052,2498366.4504426457,2501192.3109013857,2495585.0922105582,2489977.8735197303,2482195.2819779301,2474412.6904361304,2467756.7969374219,2461100.9034387129,2479898.622998165,2498696.3425576175,2514193.5264068111,2529690.7102560047,2525004.090998414,2520317.4717408237,2504108.8691590084,2487900.266577193,2472862.8111661701,2457825.3557551475,2443647.6694030678,2429469.9830509881,2415952.5130532286],"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Trend","type":"scatter","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":["2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01"],"y":[772172.58828610659,362937.18054543406,316142.01589905069,-86485.555953595307,-321115.69537252642,-361194.64462236478,-219905.91803131934,-192096.31692183038,-373659.77907514968,-263391.73328674753,-79075.350808020463,445296.02338583785,775054.18112965731,361661.784209801,313863.99139124481,-89528.363957938796,-320159.68395917444,-358272.45766095392,-218416.09406009168,-191013.99092719599,-374240.67222870176,-265021.57810175448,-81165.786451946857,446544.43055312976,781536.4812856873,356554.10727200529,309708.88266794197,-94944.138228987082,-318436.67679251742,-351863.53224435705,-214172.41113800943,-189049.84415296349,-376119.46974621824,-269091.42418647598,-83002.924419915522,448419.33520227479,797951.33062521834,347027.3968092401,298547.25701834547,-111839.31212476647,-313603.67144978896,-338058.63993585424,-204730.98445496795,-179457.57598875329,-379875.98455400334,-276617.82575286034,-90255.438221483477,452833.54594742012,806702.29860507324,342899.72253134445,286025.24542962393,-123776.41715056919,-316890.16695531423,-328656.01969473873,-194335.03424374913,-165218.95907985166,-384104.71943709301,-270373.28653344722,-101407.44969672368,463049.53329266957,796839.83114360168,340783.81554450723,282634.73299605679,-123635.67399809968,-327999.38221795677,-322869.38903998607,-190112.46249758487,-160719.06884161127,-390682.49423666962,-265345.37170834932,-97208.055846522038,472403.1835950432,781050.10232070519,353414.29397682659,282119.41309806349,-121908.39569156988,-340053.00440037216,-324358.27682529209,-200537.45836655953,-175692.57808332567,-395584.70958609472,-265259.54207851959,-82735.359296272291,472800.30790378782,784846.14337626472,410016.32894031209,268156.75142102304,-120994.76592026401,-353847.64532212878,-334956.06574654899,-216837.13029818409,-188255.7281843503,-382263.10967208305,-279318.52679131832,-64196.864788904662,473589.35725324176,793219.01299456379,444126.86219613475,250237.20380468978,-136444.70645888438,-364730.85028539842,-343193.74519462738,-207528.46544489579,-178837.85360126168,-376847.65384529124,-295525.59183498635,-44710.825190103307,475551.96953906305,807606.21626005997,437809.48078204313,228763.61679329653,-167341.7475611525,-360907.78711693408,-347501.81364408281,-185383.19489745647,-166589.33093820434,-373887.91881114885,-304435.95229223359,-34132.814318389734,468266.59231881372,820234.63789939426,424973.34957015724,228342.7345083144,-189214.47879131831,-352769.44969261205,-349292.43281748815,-169723.73348102794,-168750.24073822473,-375026.45667978161,-306788.07448885345,-30710.104167829915,449018.35651788703,834299.14093914907,406844.22327306081,277081.34770798567,-197165.32234169875,-351331.22757691023,-360183.49980790529,-173984.54143194156,-188055.89003527415,-376501.62280998571,-297810.39485866926,-28530.565058576114,436171.02084028197,857356.36021389032,389768.60619523353,323700.97563471011,-203649.63147193307,-353584.8187052437,-367402.33641686087,-190313.48645305261,-206780.30520025952,-369044.13400049479,-284925.08372605895,-22073.308788176098,441073.04410250526,846083.25369162357,377162.2961673605,343514.29419923137,-210293.02904533249,-362498.87503766408,-364235.62653827277,-196675.5445816291,-210830.01783872815,-358610.1374290738,-284696.85588984936,-35622.754435412236,492895.66891585774,830443.04787892161,359659.29601033498,335256.69455066993,-227063.07824416333,-364622.94026219269,-355207.87494503346,-183616.63242424134,-207092.50338220014,-355508.52971888834,-297167.29201338836,-52137.351701321109,551400.97615714604,829157.30549673992,347194.23885244079,313466.96956835687,-247814.19040675447,-370512.52020960639,-351214.59193687269,-163580.97416139371,-203158.31954415719,-364092.61385341547,-307281.83070577844,-54295.54988136061,593089.34748425602,824855.38759023743,374904.30294886051,294248.70505495137,-271929.06549018412,-383398.99235881289,-366482.78909361211,-152819.85417814698,-192149.1484371445,-368346.59726351593,-302275.87327442149,-59834.218652713964,611180.61179010046,816818.82141583681,439571.15819356788,265574.66271283425,-298280.52239684417,-397475.80800275842,-387916.94153639558,-144957.34303012901,-178106.51006003132,-371285.1662775405,-280977.12280270172,-55944.512122466884,604184.180409541,796747.08052443678,483101.96457359992,222471.9847889395,-300161.9963825263,-419243.32159617764,-397157.59687111352,-137798.6266507128,-164152.06180574172,-378761.72188689042,-265793.03594336269,25545.037735567967,592812.45489448903,770634.76036621712,484489.43977203534,158194.01648172952,-294672.65267092158,-430748.7900019603,-384270.21400385938,-131868.63049809204,-146011.9830657772,-387295.16804922774,-275615.88840909587,85829.70235850499,591644.65377281653,742989.42268851236,480294.74042646267,129855.76483882143,-290278.84511819034,-432468.85004359583,-365142.23422318551,-116520.12577621173,-132236.06801127957,-392415.88898931362,-293798.20112368785,76478.558053483619,604361.80627265375,726527.67462365411,476984.85743067454,114128.36465215753,-293344.40723955428,-426496.74702397367,-356357.82790721819,-102922.09080602587,-117122.10989827749,-384495.13698203559,-305904.23265090323,69825.611745531278,603711.16533287696,725838.0984882348,486082.37961904571,91193.039917297108,-297414.10624084569,-424001.35631151858,-352233.84463533096,-97400.355460221152,-111343.95797643463,-381022.3807098401,-310620.18180155958,66981.571654849031,603260.50461314013,725341.89478130091,490942.69672648044,83791.749668074131,-298210.78876733658,-422906.48933155107,-351034.56623414479,-95028.869247775874,-108589.18488346206,-379491.6177042225,-313251.75819714164,65219.730848262116,603153.14314517064,724853.17649241956,493270.9830502994,79917.340114553503,-299333.9877873768],"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Seasonal","type":"scatter","marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y3","frame":null},{"x":["2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01"],"y":[1732838.4117138935,1793935.8194545659,1770425.9841009493,1750317.5559535953,1706278.6953725265,1674313.6446223648,1679824.9180313193,1720579.3169218304,1734530.7790751497,1770819.7332867475,1641045.3508080204,1520576.9766141621,1544218.8188703428,1729124.2157901991,1783051.0086087552,1824077.3639579387,1790663.6839591744,1812239.457660954,1821265.0940600918,1773092.9909271961,1782839.6722287019,1771957.5781017544,1847560.7864519469,1767622.5694468701,1751199.5187143127,1989934.8927279948,1731813.117332058,1698797.1382289871,1697933.6767925173,1592059.532244357,1678876.4111380095,1701571.8441529635,1675247.4697462183,1686325.424186476,1699156.9244199155,1660270.6647977252,1714892.6693747817,2011918.6031907599,1654059.7429816546,1721585.3121247664,1755160.6714497888,1694324.6399358544,1657069.984454968,1625349.5759887532,1737587.9845540035,1703163.8257528604,1738234.4382214835,1723186.4540525798,1590010.7013949268,1751457.2774686555,1762143.7545703761,1708964.4171505691,1703807.1669553141,1728674.0196947388,1741943.0342437492,1721105.9590798516,1685933.719437093,1573131.2865334472,1631100.4496967236,1706704.4667073304,1214086.1688563982,1658575.1844554928,1689530.2670039432,1666937.6739980998,1718352.3822179567,1738003.3890399861,1805353.462497585,1768549.0688416113,1719247.4942366695,1767270.3717083493,1719572.0558465221,1493314.8164049569,1525892.8976792949,2050363.7060231734,1685268.5869019364,1784320.3956915699,1754481.004400372,1737612.276825292,1713694.4583665596,1917447.5780833256,1842258.7095860946,1744369.5420785197,1763884.3592962723,1753193.6920962122,1769434.8566237353,1925753.6710596879,1841466.2485789768,1793718.7659202639,1784089.6453221287,1793971.0657465491,1772848.130298184,1720118.7281843503,1711989.1096720831,1767963.5267913183,1779167.8647889046,1752888.6427467582,1745148.9870054363,1718088.1378038651,1746007.7961953103,1721956.7064588843,1717880.8502853983,1721965.7451946274,1710849.4654448959,1757191.8536012617,1803982.6538452911,1806392.5918349863,1664562.8251901034,1835323.0304609369,1816610.78373994,1874936.5192179568,1745458.3832067035,1707469.7475611526,1825996.7871169341,1848463.8136440828,1853627.1948974566,1885139.3309382044,1858948.918811149,1810669.9522922337,1843283.8143183896,2054175.4076811862,1878804.3621006059,1860491.6504298428,1827762.2654916856,1854492.4787913184,1862064.449692612,1853137.4328174882,1897733.7334810279,1896657.2407382247,1875268.4566797817,1886560.0744888536,1890869.10416783,1902918.643482113,1723165.8590608509,1912376.7767269392,1672808.6522920143,1981625.3223416987,2054838.2275769103,2062740.4998079054,2065302.5414319416,2020830.8900352742,2016848.6228099857,2025203.3948586693,2018190.5650585762,1876660.9791597179,1804459.6397861098,1982214.3938047665,1992490.0243652898,1987252.6314719331,1925957.8187052438,1934618.3364168608,1928470.4864530526,1946216.3052002594,1957762.1340004948,1965739.0837260589,2140581.3087881762,2259037.9558974947,2151061.7463083765,2178875.7038326394,2021778.7058007687,1997057.0290453325,1998700.8750376641,1940743.6265382727,1898419.5445816291,1962474.0178387281,1994095.1374290739,2015436.8558898494,2203606.7544354121,1982639.3310841422,2073130.9521210785,2371033.703989665,2057285.30544933,2053996.0782441634,2043377.9402621926,2079113.8749450333,2066291.6324242414,2075028.5033822001,2079468.5297188885,2101547.2920133881,2116166.3517013211,1838501.023842854,2051556.6945032601,2112350.7611475592,1851000.0304316431,2151315.1904067546,2156397.5202096067,2176339.5919368728,2164616.9741613939,2226387.319544157,2138504.6138534155,2056178.8307057784,2034252.5498813605,2072301.6525157439,1883361.6124097626,1786280.6970511395,2029949.2949450486,2025507.0654901841,2093946.9923588128,2097869.7890936118,2103329.8541781469,2096261.1484371445,2106047.5972635159,2141240.8732744213,2215639.218652714,2247328.3882098994,2290915.1785841631,2067513.8418064322,2310430.3372871657,2446369.5223968443,2253331.8080027588,2255363.9415363958,2283994.3430301291,2278588.5100600314,2321183.1662775404,2350178.1228027013,2544226.5121224667,2154857.8195904591,2364984.9194755633,2300538.0354264001,2458376.0152110606,2294440.9963825261,2332022.3215961773,2300152.5968711134,2300248.6266507129,2361626.0618057419,2360810.7218868905,2338392.0359433629,2510208.9622644321,2311594.5451055109,2281700.2396337828,2325050.5602279645,2316901.9835182703,2329794.6526709218,2292031.7900019605,2301825.2140038596,2366857.6304980922,2319214.983065777,2325324.1680492279,2369108.8884090958,2129545.2976414952,2333294.3462271835,2313288.5773114879,2370099.2595735374,2257167.2351611787,2326986.8451181902,2315338.8500435962,2374060.2342231856,2287849.1257762117,2321058.0680112797,2298792.8889893135,2309179.2011236879,2351138.4419465163,2127413.1937273461,2561367.3253763458,2316021.1425693254,2402597.6353478422,2407354.4072395544,2422391.7470239736,2430424.8279072186,2432138.090806026,2423384.1098982776,2431505.1369820358,2414179.2326509031,2433102.3882544688,2481282.8346671229,2304218.9015117651,2215935.6203809544,2652781.9600827028,2474026.1062408458,2489969.3563115187,2470861.8446353311,2501522.3554602209,2520361.9579764348,2509983.38070984,2496844.1818015594,2491297.4283451508,2282176.4953868599,2697210.1052186992,2212424.3032735195,2448681.2503319257,2449906.7887673364,2508115.4893315509,2533573.5662341448,2573743.869247776,2559201.1848834623,2549527.6177042224,2488913.7581971418,2384826.2691517379,2458694.8568548295,2886086.8235075804,2473585.0169497007,2396864.6598854465,2430945.9877873766],"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Seasonal Adjusted","type":"scatter","marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y4","frame":null},{"x":["2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01","2024-01-01","2024-02-01","2024-03-01","2024-04-01","2024-05-01","2024-06-01","2024-07-01","2024-08-01","2024-09-01","2024-10-01","2024-11-01","2024-12-01","2025-01-01","2025-02-01","2025-03-01","2025-04-01"],"y":[-37407.674230985343,34995.43418831029,22791.299513317179,12262.324523635674,-22197.082899760455,-47106.604619167978,-34539.80217945925,443.03568550921045,8622.93681328604,40870.748959347839,-92944.775584914954,-221691.34960840503,-206327.70718185604,-30774.33462158218,13800.433837391203,41764.355062629562,-4711.7590600801632,16202.268510376569,24566.158778191777,-20327.791959137656,-7302.9582620656583,-11240.905519075925,71306.449701053789,1536.9638300207444,-4717.355768492911,250389.20997842494,8638.6263157238718,-12369.629432711285,-1225.3675145453308,-101263.55380000384,-8610.7166436496191,15430.622233745642,-9547.8463105582632,139.59766814671457,11580.58744003321,-28546.899710204452,24833.87733880477,317093.06291227788,-45532.545539332554,23451.847035883926,58486.029793010792,-3349.5097088909242,-41603.673177744495,-75190.399759697262,35181.690689815208,-9757.7229957159143,14797.634588519111,-5633.1424961453304,-144191.68806955917,17901.736759112449,29235.062615775736,-21526.275846653618,-24265.527084531263,7968.5926385472994,28604.874171211617,17129.068294198718,-8681.9020616752096,-113200.15550199896,-46946.81287540053,31613.76076203119,-458047.98046207614,-21472.880656214431,1568.2860990031622,-35447.150735795032,1544.7136551074218,9250.5900854959618,64655.533151453827,24377.863808341091,-28396.986483739456,29428.394157820381,-8467.418534127064,-235260.38204394188,-203218.02483785362,322144.85083088465,-42058.200965492753,51890.869295147946,16948.739474957343,-4759.0847533233464,-33515.99986525625,169024.3803199227,92622.772291104775,-11385.797374149784,2009.6176859233528,-16634.775553365704,-8347.337065071566,142577.04931264021,52895.198773688171,4396.5137240614276,-5983.80926498794,16598.542522440664,8176.5384370838292,-39892.71820527548,-43362.191246068571,15960.585648473119,30513.283421365777,5717.2271744625177,-539.2627716162242,-20605.212528277421,14309.345308077754,-7959.8782759436872,-10253.868297025096,-15573.521521287505,-36094.349404510343,-6531.0059536208864,23480.74958493188,9647.5369691608939,-148425.38028118829,15697.803591500502,-9651.464527641423,46616.550398285501,-84919.306165057933,-126443.36527743842,-11451.749188486487,5488.4606474183965,5125.0252095484175,36027.131751557346,9226.6901257629506,-40189.143221338745,-8712.1480233694892,203096.63685406605,28642.782788124401,7229.6060594420414,-28600.24393663439,-5135.1655092132278,-828.32948013115674,-16108.401379956398,22134.844258881873,15477.525501742959,-11492.084571035812,-4047.8044711411931,-3586.1125013423152,-4718.5017406300176,-197653.21471546311,-31807.957505314611,-294741.74239617912,-9543.4166006324813,40051.144380441634,37339.96674853866,29288.558509676717,-10836.590553660644,-10472.355445618974,7139.5660278722644,9383.8856525868177,-126195.54463130794,-192446.7283899528,-4870.5825474704616,15226.439836878562,20429.677050499013,-30424.505609213375,-16670.01231514453,-17723.886696500937,-4780.9427851233631,1962.0111792827956,-1079.8806710853241,162743.50281509967,274330.2681663963,159484.17681925651,170828.96775939129,-2737.1968566074502,-6591.6989816804416,15919.321641014423,-37577.138812464429,-75440.432723195525,-15300.016020837007,12407.047014768235,18254.587754644919,190930.30857930891,-40432.137564529898,39664.460679837503,329380.99138052529,7446.3716722915415,-1327.9038256383501,-17431.090100372443,13072.723062913865,-4981.6409774324857,-4301.4045165388379,-7918.0126769153867,11776.793397316243,24011.896864980925,-260785.52494469984,-54861.94823550689,-2163.4022455583327,-271609.65361582441,12942.499784249812,2261.8230120642111,24731.920543283224,15537.328571757302,95051.143151720986,24911.906658179592,-35289.155009633396,-35090.714354227297,13004.79833911499,-165888.83170790714,-265505.18475458166,-24372.024548724061,-35601.100757241016,26051.979357735021,14777.94166608504,5041.1723241712898,-23432.309760925127,-35050.637278647162,-30628.026422559284,12999.653800915927,14553.382260052953,28004.731536268722,-201222.39064037148,35868.319441452157,170338.23093076842,-24168.757083679549,-24599.403576843441,1568.2178900889121,-21466.533828058746,3499.2036413997412,25784.175206338521,213122.57956588129,-176275.69781859219,33821.817214046139,-25361.159955597017,137740.72670858307,-22338.110699986108,19099.395933630876,-19940.51849450171,-27014.678417971358,31236.417198623531,27294.737741337623,8168.9267750652507,183278.7280733902,-9519.5899419304915,-33597.79627005849,11683.509035678115,5465.9170375391841,14549.338355941698,-27022.772147268057,-20735.913485885132,40789.937667831313,-12148.507634072099,-11335.120520209428,32426.116202486213,-207160.95820228662,-956.67054931027815,-18507.200397718232,41243.785790551919,-68747.934695585631,3176.0168809583411,-6367.636574103497,54367.308410308324,-29830.239231843036,3095.9244296611287,-19452.033165868372,-13713.042089830618,23598.877674660645,-214012.66152918153,206055.17913514655,-51395.943463505711,23075.609523379244,11952.776329915039,11110.511029157322,12350.248197420035,7270.1673812451772,-4888.1968458974734,-171.55308153294027,-25432.233242266811,-14443.853468302172,26777.780327150133,-157244.96544540953,-253029.99259511288,176314.60108774295,-4768.2516415365972,8847.9995417138562,-17469.128741524182,5981.7654763157479,21995.507533789147,8791.0698084542528,1259.0895910011604,1319.5548254204914,-200018.78659107024,222797.41478256881,-255332.49366390239,-12419.653106787242,-29991.834230828565,9419.146773933433,19380.039827333763,44053.158991771284,34197.093885048293,29210.14596339874,-15195.110961866565,-103073.99742545513,-14167.954311340582,428261.46775243292,29937.347546632867,-32605.323165541515,14993.474734148011],"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Irregular","type":"scatter","marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y5","frame":null},{"x":["2001-01-01","2025-04-01"],"y":[186757.16795099652,186757.16795099652],"mode":"lines","line":{"color":"orange","dash":"dash"},"showlegend":false,"name":"2SD","type":"scatter","marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y5","frame":null},{"x":["2001-01-01","2025-04-01"],"y":[-186757.16795099652,-186757.16795099652],"mode":"lines","line":{"color":"orange","dash":"dash"},"showlegend":false,"name":"-2SD","type":"scatter","marker":{"color":"rgba(188,189,34,1)","line":{"color":"rgba(188,189,34,1)"}},"error_y":{"color":"rgba(188,189,34,1)"},"error_x":{"color":"rgba(188,189,34,1)"},"xaxis":"x","yaxis":"y5","frame":null},{"x":["2001-01-01","2025-04-01"],"y":[280135.75192649476,280135.75192649476],"mode":"lines","line":{"color":"red","dash":"dash"},"showlegend":false,"name":"3SD","type":"scatter","marker":{"color":"rgba(23,190,207,1)","line":{"color":"rgba(23,190,207,1)"}},"error_y":{"color":"rgba(23,190,207,1)"},"error_x":{"color":"rgba(23,190,207,1)"},"xaxis":"x","yaxis":"y5","frame":null},{"x":["2001-01-01","2025-04-01"],"y":[-280135.75192649476,-280135.75192649476],"mode":"lines","line":{"color":"red","dash":"dash"},"showlegend":false,"name":"-3SD","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y5","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"title":"Decomposition Method: STL","anchor":"y5"},"yaxis5":{"domain":[0,0.17999999999999997],"automargin":true,"title":"Irregular","anchor":"x"},"yaxis4":{"domain":[0.21999999999999995,0.37999999999999989],"automargin":true,"title":"Seasonal Adjusted","anchor":"x"},"yaxis3":{"domain":[0.41999999999999993,0.57999999999999996],"automargin":true,"title":"Seasonal","anchor":"x"},"yaxis2":{"domain":[0.62,0.78000000000000003],"automargin":true,"title":"Trend","anchor":"x"},"yaxis":{"domain":[0.82000000000000006,1],"automargin":true,"title":"Actial","anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":false},"attrs":{"4edf4d00a9e6":{"x":{},"y":{},"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Actual","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"4edf4d00a9e6.1":{"x":{},"y":{},"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Actual","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","marker":{"color":"orange"},"inherit":true},"4edf4d00a9e6.2":{"x":{},"y":{},"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Actual","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","marker":{"color":"red"},"inherit":true},"4edf45e58660":{"x":{},"y":{},"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Trend","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"4edfe404429":{"x":{},"y":{},"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Seasonal","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"4edf479c9f9e":{"x":{},"y":{},"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Seasonal Adjusted","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"4edf4dad80cd":{"x":{},"y":{},"mode":"lines","line":{"color":"#0072B5"},"showlegend":false,"name":"Irregular","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"4edf4dad80cd.1":{"x":"2001-01-01","y":186757.16795099652,"mode":"lines","line":{"color":"orange","dash":"dash"},"showlegend":false,"name":"2SD","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","xend":"2025-04-01","yend":186757.16795099652,"inherit":true},"4edf4dad80cd.2":{"x":"2001-01-01","y":-186757.16795099652,"mode":"lines","line":{"color":"orange","dash":"dash"},"showlegend":false,"name":"-2SD","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","xend":"2025-04-01","yend":-186757.16795099652,"inherit":true},"4edf4dad80cd.3":{"x":"2001-01-01","y":280135.75192649476,"mode":"lines","line":{"color":"red","dash":"dash"},"showlegend":false,"name":"3SD","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","xend":"2025-04-01","yend":280135.75192649476,"inherit":true},"4edf4dad80cd.4":{"x":"2001-01-01","y":-280135.75192649476,"mode":"lines","line":{"color":"red","dash":"dash"},"showlegend":false,"name":"-3SD","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","xend":"2025-04-01","yend":-280135.75192649476,"inherit":true}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>